{"version":3,"sources":["webpack:///./src/util/range.js","webpack:///./src/components/NavHeader.vue?70d7","webpack:///./src/components/NavHeader.vue","webpack:///src/components/NavHeader.vue","webpack:///./src/util/Node.js","webpack:///./src/util/CanvasState.js","webpack:///./src/util/modes.js","webpack:///./src/components/RangeSlider.vue?dc5a","webpack:///./src/components/RangeSlider.vue","webpack:///src/components/RangeSlider.vue","webpack:///./src/components/Triplets.vue?a9ad","webpack:///./src/components/Triplets.vue","webpack:///src/components/Triplets.vue","webpack:///src/components/Classifier.vue","webpack:///./src/components/Classifier.vue?e9bb","webpack:///./src/components/Classifier.vue","webpack:///./src/icons/Scissors.vue?fb60","webpack:///./src/icons/Scissors.vue","webpack:///src/components/TsneMap.vue","webpack:///src/icons/Scissors.vue","webpack:///./src/components/TsneMap.vue?6be8","webpack:///./src/components/TsneMap.vue","webpack:///src/App.vue","webpack:///./src/App.vue?dd03","webpack:///./src/App.vue","webpack:///./src/components/Welcome.vue?8689","webpack:///./src/components/Welcome.vue","webpack:///src/components/Welcome.vue","webpack:///src/components/Svm.vue","webpack:///./src/components/Svm.vue?bf38","webpack:///./src/components/Svm.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["module","exports","ids","coords","minX","minY","maxX","maxY","nodeSize","stack","length","result","x","y","axis","pop","right","left","i","push","m","Math","floor","nextAxis","components_NavHeader","render","_vm","this","_h","$createElement","_c","_self","attrs","id","to","_v","staticRenderFns","src_components_NavHeader","__webpack_require__","normalizeComponent","name","ssrContext","Node","data","ctx","hitCtx","_this","classCallCheck_default","links","index","_x","_y","_width","_height","colorKey","color","group","cluster","positives","negatives","label","labels","initX","initY","activeScale","icon","Image","src","buffer","rank","pics","imageData","values_default","map","pic","ImageData","Uint8ClampedArray","info","width","height","canvas","document","createElement","img","getContext","putImageData","toDataURL","e","console","error","log","_isActive","isActiveNeighbour","hasImage","image","imgScale","_value","scale","scale2","imgWidth","imgData","w","h","drawImage","s","fillStyle","fillRect","activeImgWidth","strength","borderWidth","labelColor","isActive","value","lineWidth","strokeStyle","strokeRect","v","CanvasState","hitCanvas","socket","ui","kdtree","valid","_valid","nodes","colorHash","dragging","draggNode","selection","nodeOnMouseDown","showKLabels","selectedLabel","selectedCategory","activeMode","nodeUnderMouse","scissors","drawScissors","scissorsStartX","scissorsStartY","scissorsEndX","scissorsEndY","_cluster","_scale","_scale2","_zoomStage","_imgScale","_activeImgScale","_borderWidth","_scrollGrowth","scaleStage","_scrollImgGrowth","_clusterGrowth","translateX","translateY","startX","startY","onmousedown","handleMouseDown","onmousemove","handleMouseMove","onmouseup","handleMouseUp","ondblclick","handleDoubleClick","onwheel","zoom","_this2","l","keys_default","random","node","newNode","extends_default","addNode","forEach","_this3","arguments","undefined","clearGroup","triggerDraw","_ref","range_default","resetTransform","clearRect","translate","_this4","time","clear","globalAlpha","drawAsActive","activeImgScale","drawAsNeighbour","drawClusterd","draw","drawBorder","indexOf","timeEnd","requestAnimationFrame","_this5","canvasW","canvasH","tx","ty","zoomStage","canvasPixel","rankSize","sizeRanked","nodeX","nodeY","imgW","imgH","inside","row","canvasRow","col","c","toggle","_this6","drawBoarder","boarderRanked","gradient","canvasX","canvasY","iw","ih","p","r","abs","drawHitmap","showHeatmap","drawHeatmap","showNavMap","drawNavMapRect","showNavHeatmap","drawNavHeatmapRect","wheelEvent","preventDefault","stopPropagation","deltaY","oldScale","mouseX","offsetX","mouseY","offsetY","clusterGrowth","scaleChange","pixel","getImageData","nodeId","_this7","findNodeByMousePosition","activeNode","emit","moveX","moveY","move","entries_default","_ref2","_ref3","slicedToArray_default","neighbour","_this8","ctrlKeyPressed","ctrlKey","clickedNode","$route","cuttedNodes","endX","endY","round","zoomLvl","_translateX","_translateY","_this9","window","draw2","components_RangeSlider","type","min","max","step","domProps","src_components_RangeSlider","RangeSlider_normalizeComponent","props","components_Triplets","staticClass","class","redActive","on","click","toogleRed","_l","n","key","alt","$event","removeNegativ","_e","greenActive","toogleBlue","removePositiv","src_components_Triplets","Triplets_normalizeComponent","methods","splice","Classifier","showLabelOptions","selectedNodes","mouseOver","showAddCategory","category","watch","_nodes","removeNode","addCategory","newKey","addLabel","handleFocus","handleBlur","chooseLabel","computed","labelsFiltered","filter","includes","components_Classifier","cat","active","_s","directives","rawName","expression","input","target","composing","focus","blur","mouseenter","mouseleave","src_components_Classifier","Classifier_normalizeComponent","icons_Scissors","xmlns","viewBox","fill","stroke","stroke-width","stroke-linecap","stroke-linejoin","clickHandler","cx","cy","x1","y1","x2","y2","TsneMap","store","components","Scissors","Scissors_normalizeComponent","RangeSlider","Triplets","items","connectedToSocket","loadingNodes","nodesTotal","nodesRecived","showLabels","range","showOptions","scrollGrowth","scrollImgGrowth","heatmapRadius","heatmapBlur","navMapAlpha","getNode","sendData","getNodes","resetStore","reset","changeActiveNode","groupNodesByIds","changeCluster","heatmap","radius","drawNavMap","navMap","beginPath","arc","PI","navMapRect","drawNavHeatmap","navHeatmap","navHeatmapRect","toggleShowNavMap","toggleShowNavHeatmap","toggleShowHeatmap","toggleSizeRanked","toggleBoarderRanked","toggleToggle","changeImgWidth","activeImgWidthMore","activeImgWidthLess","borderWidthMore","borderWidthLess","doubleNodes","toggleShowOptions","changeScrollGrowth","changeScrollImgGrowth","changeClusterGrowth","changeZoomStage","changeHeatmapRadius","changeHeatmapBlur","changeNavMapAlpha","toggleShowKLabels","toogleCategory","toogleLabel","selectScissors","selectedNode","selectedNodeNeighboursCount","imageScale","mounted","lib_default","a","connect","transports","reconnectionDelay","reconnectionDelayMax","getElementById","parantWidth","parentNode","clientWidth","parantHeight","clientHeight","heatmapCanvas","simpleheat_default","navHeatmapCanvas","util_CanvasState","reason","util_Node","beforeDestroy","disconnect","clearInterval","timerId","components_TsneMap","if","ref","tabindex","hide","App","NavHeader","TsneMap_normalizeComponent","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","components_Welcome","src_components_Welcome","Welcome_normalizeComponent","Svm","positivesAll","negativesAll","topScored","selectPositives","loading","count","toggleActive","switchPositivs","switchNegatives","removePositives","removeNegatives","trainSvm","asyncToGenerator_default","regenerator_default","mark","_callee","body","wrap","_context","prev","next","stringify_default","fetch","method","headers","Content-type","then","res","json","catch","sent","Error","t","stop","stopSvm","_callee2","_context2","clearSvm","handleMouseOver","components_Svm","activePositiv","mouseover","contextmenu","activeNegativ","src_components_Svm","Svm_normalizeComponent","vue_esm","use","vue_router_esm","router","routes","path","component","config","productionTip","el","template"],"mappings":"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","file":"static/js/app.060979b9ffc815719443.js","sourcesContent":["\r\n// https://github.com/mourner/kdbush/tree/master/src\r\n\r\nfunction range(ids, coords, minX, minY, maxX, maxY, nodeSize) {\r\n    const stack = [0, ids.length - 1, 0];\r\n    const result = [];\r\n    let x;\r\n    let y;\r\n\r\n    while (stack.length) {\r\n        const axis = stack.pop();\r\n        const right = stack.pop();\r\n        const left = stack.pop();\r\n\r\n        if (right - left <= nodeSize) {\r\n            for (let i = left; i <= right; i++) {\r\n                x = coords[2 * i];\r\n                y = coords[(2 * i) + 1];\r\n                if (x >= minX && x <= maxX && y >= minY && y <= maxY) result.push(ids[i]);\r\n            }\r\n            continue;\r\n        }\r\n\r\n        const m = Math.floor((left + right) / 2);\r\n\r\n        x = coords[2 * m];\r\n        y = coords[(2 * m) + 1];\r\n\r\n        if (x >= minX && x <= maxX && y >= minY && y <= maxY) result.push(ids[m]);\r\n\r\n        const nextAxis = (axis + 1) % 2;\r\n\r\n        if (axis === 0 ? minX <= x : minY <= y) {\r\n            stack.push(left);\r\n            stack.push(m - 1);\r\n            stack.push(nextAxis);\r\n        }\r\n        if (axis === 0 ? maxX >= x : maxY >= y) {\r\n            stack.push(m + 1);\r\n            stack.push(right);\r\n            stack.push(nextAxis);\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nmodule.exports = range;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/range.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"header\"}},[_c('router-link',{attrs:{\"to\":\"/svm\"}},[_vm._v(\"SVM\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/classifier\"}},[_vm._v(\"Classifier\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/triplets\"}},[_vm._v(\"Triplets\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/neighbours\"}},[_vm._v(\"Neighbours\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/tsne\"}},[_vm._v(\"t-SNE\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-30146332\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/NavHeader.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-30146332\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./NavHeader.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NavHeader.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NavHeader.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-30146332\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./NavHeader.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-30146332\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/NavHeader.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div id=\"header\">\r\n        <router-link to=\"/svm\">SVM</router-link>\r\n        <router-link to=\"/classifier\">Classifier</router-link>\r\n        <router-link to=\"/triplets\">Triplets</router-link>\r\n        <router-link to=\"/neighbours\">Neighbours</router-link>\r\n        <router-link to=\"/tsne\">t-SNE</router-link>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'NavHeader',\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n    #header {\r\n        display: flex;\r\n        /*justify-content: flex-end;*/\r\n        align-items: center;\r\n        /*height: 50px;*/\r\n        box-shadow: 0 1px 6px rgba(32, 33, 36, 0.28);\r\n    }\r\n\r\n    a {\r\n        text-decoration: none;\r\n\r\n        display: flex;\r\n        align-items: center;\r\n        height: 40px;\r\n\r\n        font-weight: bold;\r\n        padding: 0 1em;\r\n        margin-bottom: 5px;\r\n        color: #767676;\r\n    }\r\n\r\n    a:hover {\r\n         color: #484848;\r\n     }\r\n\r\n    .router-link-exact-active {\r\n         /*//background-color: paleturquoise;*/\r\n         border-bottom: 5px solid paleturquoise;\r\n         color: #484848;\r\n         margin-bottom: 0;\r\n     }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/NavHeader.vue","\r\n/* eslint no-underscore-dangle: [\"error\", { \"allowAfterThis\": true }] */\r\nexport default class Node {\r\n    constructor(data, ctx, hitCtx) {\r\n        this.name = data.name;\r\n        this.links = data.links;\r\n        this.index = data.index;\r\n        this._x = data.x;\r\n        this._y = data.y;\r\n        this._width = 1; // 40;\r\n        this._height = 1; // 40;\r\n        this.colorKey = data.colorKey;\r\n        this.color = data.color;\r\n        this.ctx = ctx;\r\n        this.hitCtx = hitCtx;\r\n\r\n        this.group = false;\r\n\r\n        this.cluster = data.cluster;\r\n        this.positives = data.positives;\r\n        this.negatives = data.negatives;\r\n\r\n        this.label = data.label;\r\n        this.labels = data.labels;\r\n        // x,y for reseting\r\n        this.initX = data.x;\r\n        this.initY = data.y;\r\n\r\n        this.activeScale = 3; // showing images bigger\r\n        this.icon = new Image();\r\n        this.icon.src = data.buffer;\r\n\r\n        this.rank = data.rank;\r\n\r\n        this.pics = {};\r\n        this.imageData = {};\r\n\r\n        try {\r\n            // this.icon = new Image();\r\n            // this.icon.src = data.buffer;\r\n\r\n\r\n            // TODO das kann sicherlich optimiert werden\r\n            // const canvas = document.createElement('canvas');\r\n            // const context = canvas.getContext('2d');\r\n            Object.values(data.pics).map((pic, i) => {\r\n                this.imageData[i] = new ImageData(new Uint8ClampedArray(pic.data), pic.info.width, pic.info.height);\r\n                // const img = new Image();\r\n                // img.src = pic;\r\n                // img.onload = async () => {\r\n                //     this.pics[i] = await createImageBitmap(img);\r\n                //     canvas.width = img.width;\r\n                //     canvas.height = img.height;\r\n                //     context.drawImage(img, 0, 0);\r\n                //     this.imageData[i] = context.getImageData(0, 0, img.width, img.height);\r\n                // };\r\n                if (i === 9) {\r\n                    const canvas = document.createElement('canvas');\r\n                    const img = this.imageData[i];\r\n                    canvas.width = img.width; // or 'width' if you want a special/scaled size\r\n                    canvas.height = img.height; // or 'height' if you want a special/scaled size\r\n\r\n                    canvas.getContext('2d').putImageData(img, 0, 0);\r\n                    this.icon = canvas.toDataURL('image/png');\r\n                }\r\n            });\r\n        } catch (e) {\r\n            console.error(e);\r\n            console.log(this);\r\n            console.log(data);\r\n        }\r\n\r\n\r\n        this._isActive = false; // handle clicked node\r\n        this.isActiveNeighbour = false; // is this a neighbour of a active node?\r\n        this.hasImage = false; // is there detailed image?\r\n\r\n        this.image = new Image(); // rest is set throuh socket-receiveImage\r\n        // this.image.src = `data:image/jpeg;base64,${data.buffer}`;\r\n\r\n        this.imgScale = null; // used for scaling img width\r\n        //\r\n        // this.timerId = 0;\r\n\r\n        this._value = null; // value will be set by the active nodes neighbour-values, default is 5\r\n\r\n        // this.imgData = makeImgageData(this.icon)\r\n    }\r\n\r\n    get width() {\r\n        return this._width;\r\n    }\r\n\r\n    set width(value) {\r\n        this._width = value;\r\n    }\r\n\r\n    get height() {\r\n        return this._height;\r\n    }\r\n\r\n    set height(value) {\r\n        this._height = value;\r\n    }\r\n\r\n    get value() {\r\n        return this._value;\r\n    }\r\n\r\n    set value(v) {\r\n        if (v < 0.1) this._value = 0.1;\r\n        else if (v > 1) this._value = 1;\r\n        else this._value = v;\r\n    }\r\n\r\n    get isActive() {\r\n        return this._isActive;\r\n    }\r\n\r\n    set isActive(v) {\r\n        this._isActive = v;\r\n    }\r\n\r\n    // if isActive\r\n    // scale x to real/current 2d-coords\r\n    // subtract half width for moving left, width scaled with ImageScale\r\n    // scale back to Node x/y\r\n    // TODO the last point is because of the context is scaling it again - maybe we could get rid of this?\r\n\r\n    get x() {\r\n        // return this._x - (this.width / 2 / this.scale);\r\n        return this._x;\r\n    }\r\n\r\n    set x(value) {\r\n        this._x = value;\r\n    }\r\n\r\n    get y() {\r\n        // return this._y - (this.height / 2 / this.scale);\r\n        return this._y;\r\n    }\r\n\r\n    set y(value) {\r\n        this._y = value;\r\n    }\r\n\r\n    // simple changing the x/y is not possible because\r\n    // they have special getters witch would be use while setting/+= values\r\n    move(x, y) {\r\n        this._x += x;\r\n        this._y += y;\r\n    }\r\n\r\n\r\n    // ctx is the canvas context\r\n    // scale change through zooming and is used for positioning the images\r\n    draw(scale, scale2, imgWidth, cluster) {\r\n        // console.log('start draw Image');\r\n        // check which picture to use\r\n        // this.scale = 1; // scale;\r\n\r\n        // const imgData = this.imageData[scale2];\r\n        const imgData = this.icon;\r\n        if (imgData) {\r\n            // const x = this.x;\r\n            // const y = this.y;\r\n            // const w = this.width / scale / 2;\r\n            // const h = this.height / scale / 2;\r\n\r\n            // old architecture\r\n            const w = imgData.width * imgWidth / 100 / scale2;\r\n            const h = imgData.height * imgWidth / 100 / scale2;\r\n            const x = this._x - (w / 2);\r\n            const y = this._y - (h / 2);\r\n\r\n\r\n            // new archetecture 1\r\n            // const w = imgData.width;\r\n            // const h = imgData.height;\r\n            // const x = (this._x * scale) - (w / 2);\r\n            // const y = (this._y * scale) - (h / 2);\r\n\r\n            // const w = imgData.width;\r\n            // const h = imgData.height;\r\n            // const x = (this._x - (w / 2)) * scale;\r\n            // const y = (this._y - (h / 2)) * scale;\r\n            // const x = Math.floor((this._x * scale) - (w / 2)); // TODO PERFORMANCE ??? Rounde faster than not?\r\n            // const y = Math.floor((this._y * scale) - (h / 2));\r\n\r\n\r\n            // const data = await createImageBitmap(imgData, 0, 0, w, h)\r\n            // createImageBitmap(imgData,0, 0, 2, 2, {resizeHeight: h, resizeWidth: w}).then(data => {\r\n            //     console.log(data)\r\n            //     this.ctx.drawImage(data, x, y)\r\n            // })\r\n            // console.log({ x, y, h, w });\r\n            this.ctx.drawImage(imgData, x, y, w, h); // TODO Performance drawImage - putImageData\r\n\r\n\r\n            // this.hitCtx.fillStyle = this.colorKey;\r\n            // this.hitCtx.fillRect(x, y, w, h);\r\n        }\r\n\r\n        // draw HitCanvas rect\r\n    }\r\n\r\n    drawClusterd(scale, scale2, imgWidth, cluster) {\r\n        const s = 1 / scale;\r\n        const x = this._x;\r\n        const y = this._y;\r\n\r\n        this.ctx.fillStyle = 'grey';\r\n        this.ctx.fillRect(x, y, s, s);\r\n    }\r\n\r\n    drawAsActive(scale, activeImgWidth) {\r\n        this.scale = 1; // scale;\r\n\r\n        const imgData = this.icon; // this.hasImage ? this.image : this.icon;\r\n\r\n        /* const x = this.x;\r\n        const y = this.y;\r\n        const w = this.width; // scale / 2;\r\n        const h = this.height; // scale / 2 ; */\r\n\r\n        /* const w = activeImgWidth / 10;\r\n        const h = activeImgWidth / 10; */\r\n        const w = imgData.width * activeImgWidth / 1000; // TODO if image returns check if this width should be still used\r\n        const h = imgData.height * activeImgWidth / 1000;\r\n        const x = this._x - (w / 2);\r\n        const y = this._y - (h / 2);\r\n\r\n\r\n        this.ctx.putImageData(imgData, x, y, w, h);\r\n\r\n        // draw HitCanvas rect\r\n        this.hitCtx.fillStyle = this.colorKey;\r\n        this.hitCtx.fillRect(x, y, w, h);\r\n    }\r\n\r\n    drawAsNeighbour(scale, activeImgWidth, strength) {\r\n        this.scale = 1; // scale;\r\n\r\n        const imgData = this.icon; // this.hasImage ? this.image : this.icon;\r\n\r\n        /* const x = this.x;\r\n        const y = this.y;\r\n        const w = this.width; // scale / 2;\r\n        const h = this.height; // scale / 2 ; */\r\n\r\n        /* const w = (activeImgWidth / 10) * this.value;\r\n        const h = (activeImgWidth / 10) * this.value; */\r\n        const w = imgData.width * activeImgWidth * strength / 1000; //* this.value; // TODO if image returns check if this width should be still used\r\n        const h = imgData.height * activeImgWidth * strength / 1000; //* this.value;\r\n        const x = this._x - (w / 2);\r\n        const y = this._y - (h / 2);\r\n\r\n\r\n        this.ctx.drawImage(imgData, x, y, w, h);\r\n\r\n        // draw HitCanvas rect\r\n        this.hitCtx.fillStyle = this.colorKey;\r\n        this.hitCtx.fillRect(x, y, w, h);\r\n    }\r\n\r\n\r\n    drawBorder(scale, imgWidth, activeImgWidth, cluster, borderWidth, labelColor) {\r\n        /* const x = this.x;\r\n        const y = this.y;\r\n        const w = this.width; // scale;\r\n        const h = this.height; // scale;\r\n        */\r\n\r\n        const w = this.icon.width * (\r\n            this.isActive\r\n                ? activeImgWidth\r\n                : this.isActiveNeighbour\r\n                    ? activeImgWidth * this.value\r\n                    : imgWidth\r\n        ) / 1000;\r\n        const h = this.icon.height * (\r\n            this.isActive\r\n                ? activeImgWidth\r\n                : this.isActiveNeighbour\r\n                    ? activeImgWidth * this.value\r\n                    : imgWidth\r\n        ) / 1000;\r\n\r\n        const x = this._x - (w / 2);\r\n        const y = this._y - (h / 2);\r\n\r\n        const lineWidth = borderWidth / 10 / scale;\r\n        this.ctx.strokeStyle = labelColor || this.color;\r\n        this.ctx.lineWidth = lineWidth;\r\n\r\n\r\n        if ((this.cluster < cluster) || this.isActive || this.isActiveNeighbour) {\r\n            // cluster represent\r\n            if (lineWidth) this.ctx.strokeRect(x, y, w, h);\r\n        } else {\r\n            if (lineWidth) this.ctx.strokeRect(x, y, w / scale, h / scale);\r\n            this.hitCtx.fillStyle = this.colorKey;\r\n            this.hitCtx.fillRect(x, y, w / scale, h / scale);\r\n        }\r\n    }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/Node.js","import range from './range';\r\nimport { SVM, NEIGHBOURS } from './modes';\r\nimport Node from './Node';\r\n\r\nexport default class CanvasState {\r\n    constructor(canvas, hitCanvas, socket, ui) {\r\n        this.socket = socket;\r\n\r\n        this.ui = ui;\r\n\r\n        this.canvas = canvas;\r\n        this.ctx = canvas.getContext('2d');\r\n        this.width = canvas.width;\r\n        this.height = canvas.height;\r\n\r\n        this.hitCanvas = hitCanvas;\r\n        this.hitCtx = hitCanvas.getContext('2d');\r\n\r\n        // **** Keep track of state! ****\r\n        this.kdtree = {};\r\n\r\n\r\n        this.valid = true; // when set to false, the canvas will redraw everything\r\n        this._valid = true;\r\n        this.nodes = {}; // hash for all nodes\r\n        this.colorHash = {}; // find nodes by color\r\n        this.dragging = false; // Keep track of when we are dragging\r\n        this.draggNode = false; // save the node for dragging\r\n\r\n        // the current selected object.\r\n        // TODO  In the future we could turn this into an array for multiple selection\r\n        this.selection = null; // pointer to the activated node\r\n        this.nodeOnMouseDown = false; // save node on mouseDown for check in mouseUp\r\n\r\n        // K labels for development\r\n        this.showKLabels = false;\r\n        this.selectedLabel = null; // the choosen label for highlighten images\r\n        this.selectedCategory = null; // the choosen Category\r\n        this.labelColor = null; // updatet throud ui\r\n\r\n        this.activeMode = false; // freeze for handling selection\r\n        this.nodeUnderMouse = false; // is set (only!) on mouse move\r\n\r\n        this.scissors = false;\r\n        this.drawScissors = false;\r\n        this.scissorsStartX = 0;\r\n        this.scissorsStartY = 0;\r\n\r\n        this.scissorsEndX = 0;\r\n        this.scissorsEndY = 0;\r\n\r\n        this._cluster = 50000;\r\n        // this.updateClusterUI = null;\r\n        this._scale = 20;\r\n        this._scale2 = 20; // vorher 0\r\n        this._zoomStage = 0; // default zoom stage, 0 is the smalest pic\r\n        // this.updateScaleUI = null;\r\n        // this.updateScale2UI = null;\r\n        this._imgScale = 12;\r\n        this._activeImgScale = 10;\r\n        this._borderWidth = 5;\r\n\r\n        this._scrollGrowth = 100; // vorher 20\r\n        this.scaleStage = [20, 50, 100, 200, 400, 800, 1600, 3200];\r\n        this._scrollImgGrowth = 1.1;\r\n        this._clusterGrowth = 1.2;\r\n\r\n        // this.interval = 100;\r\n        //\r\n        // this.offsetLeft = canvas.getBoundingClientRect().left;\r\n        // this.offsetTop = canvas.getBoundingClientRect().top;\r\n\r\n        this.translateX = this.width / 2;\r\n        this.translateY = this.height / 2;\r\n\r\n        this.startX = null;\r\n        this.startY = null;\r\n        // this.ctx.translate(this.translateX / 2, this.translateY / 2);\r\n        // this.ctx.scale(this.scale, this.scale);\r\n\r\n\r\n        // add event listener\r\n        this.canvas.onmousedown = e => this.handleMouseDown(e);\r\n        this.canvas.onmousemove = e => this.handleMouseMove(e);\r\n        this.canvas.onmouseup = e => this.handleMouseUp(e);\r\n        this.canvas.ondblclick = e => this.handleDoubleClick(e);\r\n        this.canvas.onwheel = e => this.zoom(e);\r\n        // this.canvas.onblur = this.blur;\r\n        // this.timerId = setInterval(() => this.draw(), this.interval);\r\n    }\r\n\r\n    set scale(value) {\r\n        if (value < 20) this._scale = 20;\r\n        else this._scale = Math.round(value);\r\n        this.triggerDraw();\r\n        this.ui.scale = this.scale;\r\n    }\r\n\r\n    get scale() {\r\n        return this._scale;\r\n    }\r\n\r\n    set scale2(value) {\r\n        if (value < 0) this._scale2 = 0;\r\n        else if (value > 9) this._scale2 = 9;\r\n        else this._scale2 = value;\r\n        this.triggerDraw();\r\n        this.ui.scale2 = this.scale2;\r\n    }\r\n\r\n    get scale2() {\r\n        return this._scale2;\r\n    }\r\n\r\n    set zoomStage(value) {\r\n        if (value < 0) this._zoomStage = 0;\r\n        else if (value > 9) this._zoomStage = 9;\r\n        else this._zoomStage = value;\r\n        this.triggerDraw();\r\n        this.ui.zoomLvl = this.zoomStage;\r\n    }\r\n\r\n    get zoomStage() {\r\n        return this._zoomStage;\r\n    }\r\n\r\n    set imgScale(value) {\r\n        if (value < 1) this._imgScale = 1;\r\n        else this._imgScale = value;\r\n        this.triggerDraw();\r\n    }\r\n\r\n    get imgScale() {\r\n        return this._imgScale;\r\n    }\r\n\r\n    set translateX(value) {\r\n        this._translateX = Math.round(value);\r\n        this.ui.translateX = value;\r\n    }\r\n\r\n    get translateX() {\r\n        return this._translateX;\r\n    }\r\n\r\n    set translateY(value) {\r\n        this._translateY = Math.round(value);\r\n        this.ui.translateY = value;\r\n    }\r\n\r\n    get translateY() {\r\n        return this._translateY;\r\n    }\r\n\r\n    set activeImgScale(value) {\r\n        if (value < 1) this._activeImgScale = 1;\r\n        else this._activeImgScale = value;\r\n        this.triggerDraw();\r\n    }\r\n\r\n    get activeImgScale() {\r\n        return this._activeImgScale;\r\n    }\r\n\r\n    set borderWidth(value) {\r\n        if (value < 0) this._borderWidth = 0;\r\n        else this._borderWidth = value;\r\n        this.triggerDraw();\r\n    }\r\n\r\n    get borderWidth() {\r\n        return this._borderWidth;\r\n    }\r\n\r\n    set cluster(value) {\r\n        // console.log(this._cluster);\r\n        if (value < 1) this._cluster = 1;\r\n        else this._cluster = value;\r\n        this.triggerDraw();\r\n        this.ui.cluster = this.cluster;\r\n    }\r\n\r\n    get cluster() {\r\n        return this._cluster;\r\n    }\r\n\r\n    set scrollGrowth(v) {\r\n        if (v <= 1) this._scrollGrowth = 1.01;\r\n        else this._scrollGrowth = v;\r\n    }\r\n\r\n    get scrollGrowth() {\r\n        return this._scrollGrowth;\r\n    }\r\n\r\n    set scrollImgGrowth(v) {\r\n        if (v <= 1) this._scrollImgGrowth = 1.01;\r\n        else this._scrollImgGrowth = v;\r\n    }\r\n\r\n    get scrollImgGrowth() {\r\n        return this._scrollImgGrowth;\r\n    }\r\n\r\n    get clusterGrowth() {\r\n        return this._clusterGrowth;\r\n    }\r\n\r\n    set clusterGrowth(v) {\r\n        if (v <= 1) this._clusterGrowth = 1.01;\r\n        else this._clusterGrowth = v;\r\n        this.ui.clusterGrowth = this.clusterGrowth;\r\n    }\r\n\r\n    set valid(v) {\r\n        // let i;\r\n        // TODO so wird jeder neue draw ausgetzt weil der alte noch luft\r\n        if (!v && this.valid) window.requestAnimationFrame(() => this.draw2());\r\n        // console.log(i)\r\n        // if (i > 2) window.cancelAnimationFrame(i)\r\n        this._valid = v;\r\n    }\r\n\r\n    get valid() {\r\n        return this._valid;\r\n    }\r\n\r\n    triggerDraw() {\r\n        this.valid = false;\r\n    }\r\n\r\n    doubleNodes() {\r\n        const l = Object.keys(this.nodes).length;\r\n        const e = Math.random() * 2 - 1;\r\n        console.log(l);\r\n        Object.values(this.nodes).map((node, i) => {\r\n            const index = l + i;\r\n            const newNode = { x: (i % 2) ? node.x - e : node.x + e, y: (i % 2) ? node.y - e : node.y + e, ...node };\r\n            newNode.index = index;\r\n            console.log({ newNode, node, index });\r\n            this.addNode(newNode);\r\n        });\r\n        console.log(this.nodes);\r\n    }\r\n\r\n\r\n    clearGroup() {\r\n        Object.values(this.nodes).forEach(node => (node.group ? node.group = false : null));\r\n    }\r\n\r\n    groupNodesByIds(ids = []) {\r\n        this.clearGroup()\r\n        ids.forEach(id => this.nodes[id].group = true)\r\n        this.triggerDraw()\r\n    }\r\n\r\n\r\n    addNode(node) {\r\n        // console.log('Node addded');\r\n        this.nodes[node.index] = node;\r\n        this.colorHash[`rgb(${node.colorKey[0]},${node.colorKey[1]},${node.colorKey[2]})`] = node.index;\r\n        this.triggerDraw(); // for redrawing\r\n    }\r\n\r\n    getNodes() {\r\n        const nodes = {};\r\n        Object.values(this.nodes).forEach(({ index, x, y, name, negatives, positives, links, labels }, i) => {\r\n            nodes[i] = { index, x, y, name, negatives, positives, links, labels };\r\n        });\r\n        return nodes;\r\n    }\r\n\r\n    getNode(i) {\r\n        return this.nodes[i];\r\n    }\r\n\r\n\r\n    range(minX, minY, maxX, maxY) {\r\n        // TODO min x, max should be automatic\r\n        const result = range(this.kdtree.ids,\r\n            this.kdtree.coords, minX, minY, maxX, maxY, this.kdtree.nodeSize);\r\n        console.log('range');\r\n        console.log(result);\r\n    }\r\n\r\n    resetStore() {\r\n        this.nodes = {};\r\n        this.colorHash = {};\r\n        this.triggerDraw();\r\n    }\r\n\r\n    clear() {\r\n        // move point 0,0 to middle of canvas\r\n        // console.log(this.ctx)\r\n        this.ctx.resetTransform();\r\n        this.ctx.clearRect(0, 0, this.width, this.height);\r\n        this.ctx.translate(this.translateX, this.translateY);\r\n        this.ctx.scale(this.scale, this.scale);\r\n        // console.log(this.ctx)\r\n        console.log(this.translateX, this.translateY);\r\n\r\n        // same on hit ctx\r\n        this.hitCtx.resetTransform();\r\n        this.hitCtx.clearRect(0, 0, this.width, this.height);\r\n        this.hitCtx.translate(this.translateX, this.translateY);\r\n        this.hitCtx.scale(this.scale, this.scale);\r\n    }\r\n\r\n    draw() {\r\n        // if our state is invalid, redraw and validate!\r\n        if (!this.valid) {\r\n            console.time('draw');\r\n            console.time('nextFrameAfterDraw');\r\n            // const nodes = this.nodes;\r\n            this.clear();\r\n\r\n\r\n            // if some nodes are active set other transparent\r\n            // if (this.selection) this.ctx.globalAlpha = 0.3;\r\n            // else this.ctx.globalAlpha = 1;\r\n            if (this.selection) {\r\n                console.log('SELECTION WHILE DRAW');\r\n                const links = Object.keys(this.selection.links);\r\n                console.log(this.selection);\r\n                console.log(links);\r\n\r\n                this.ctx.globalAlpha = 0.2;\r\n\r\n                Object.values(this.nodes).forEach((node) => {\r\n                    if (node === this.selection) {\r\n                        console.log('ACKTIVE NODE');\r\n                        console.log(node);\r\n                        this.ctx.globalAlpha = 1;\r\n                        node.drawAsActive(this.scale, this.activeImgScale);\r\n                        this.ctx.globalAlpha = 0.2;\r\n                    } else if (this.selection.links[node.index]) {\r\n                        console.log('LINKED NODE');\r\n                        this.ctx.globalAlpha = 1;\r\n                        node.drawAsNeighbour(\r\n                            this.scale,\r\n                            this.activeImgScale,\r\n                            this.selection.links[node.index],\r\n                        );\r\n                        this.ctx.globalAlpha = 0.2;\r\n                    } else if (this.cluster < node.cluster) { // TODO add cluster mode\r\n                        node.drawClusterd(this.scale, this.scale2, this.imgScale, this.cluster);\r\n                    } else node.draw(this.scale, this.scale2, this.imgScale, this.cluster);\r\n                });\r\n\r\n                this.ctx.globalAlpha = 1;\r\n            } else {\r\n                // draw images\r\n                Object.values(this.nodes).forEach((node) => {\r\n                    // if node is clustered dont draw and draw pixel instead\r\n                    if (this.cluster < node.cluster) { // TODO add cluster mode\r\n                        node.drawClusterd(this.scale, this.scale2, this.imgScale, this.cluster);\r\n                    } else node.draw(this.scale, this.scale2, this.imgScale, this.cluster);\r\n                });\r\n            }\r\n\r\n\r\n            // draw borders\r\n            if (this.showKLabels) {\r\n                // draw borders\r\n                Object.values(this.nodes).forEach((node) => {\r\n                    node.drawBorder(\r\n                        this.scale,\r\n                        this.imgScale,\r\n                        this.activeImgScale,\r\n                        this.cluster,\r\n                        this.borderWidth);\r\n                });\r\n            } else if (this.selectedLabel) {\r\n                Object.values(this.nodes).forEach((node) => {\r\n                    if (node.labels.indexOf(this.selectedLabel) !== -1) {\r\n                        node.drawBorder(\r\n                            this.scale,\r\n                            this.imgScale,\r\n                            this.activeImgScale,\r\n                            this.cluster,\r\n                            this.borderWidth,\r\n                            this.labelColor);\r\n                    }\r\n                });\r\n            }\r\n\r\n            if (this.drawScissors) {\r\n                const x = (this.scissorsStartX - this.translateX) / this.scale;\r\n                const y = (this.scissorsStartY - this.translateY) / this.scale;\r\n                const w = (this.scissorsEndX - this.scissorsStartX) / this.scale;\r\n                const h = (this.scissorsEndY - this.scissorsStartY) / this.scale;\r\n\r\n                this.ctx.strokeStyle = '#3882ff';\r\n                this.ctx.lineWidth = 2 / this.scale;\r\n\r\n                this.ctx.strokeRect(x, y, w, h);\r\n                this.ctx.globalAlpha = 0.2;\r\n                this.ctx.fillRect(x, y, w, h);\r\n                this.ctx.globalAlpha = 1.0;\r\n            }\r\n            this.valid = true;\r\n            console.timeEnd('draw');\r\n            requestAnimationFrame(() => console.timeEnd('nextFrameAfterDraw'));\r\n        }\r\n    }\r\n\r\n\r\n    drawHitmap() {\r\n        console.time('drawHitmap');\r\n\r\n        const canvasW = this.width,\r\n            canvasH = this.height,\r\n            tx = this.translateX, // verschiebung des Nullpunktes im Raum\r\n            ty = this.translateY,\r\n            zoomStage = this.zoomStage,\r\n            scale = this.scale; // skalierung der x,y Koordinaten\r\n        const canvasPixel = new Uint8ClampedArray(canvasW * canvasH * 4);\r\n        // console.log({ canvasW, canvasH, tx, ty, scale });\r\n\r\n        const rankSize = this.ui.sizeRanked;\r\n\r\n        Object.values(this.nodes).forEach((node) => {\r\n            // start x,y ist x *scale + translateX\r\n            const nodeX = Math.floor(node.x * scale + tx);\r\n            const nodeY = Math.floor(node.y * scale + ty);\r\n            const rank = node.rank * 10;\r\n\r\n            const img = node.imageData[rankSize ? rank : zoomStage];\r\n            // console.log(img)\r\n            const imgW = img.width;\r\n            const imgH = img.height;\r\n            const inside = nodeX > 0 && nodeY > 0 && nodeX < (canvasW - imgW) && nodeY < (canvasH - imgH);\r\n\r\n\r\n            // test if image obj exists\r\n            if (img && inside) {\r\n                // cluster\r\n                if (node.cluster < this.cluster) {\r\n                    // wir gehen durch alle reihen des bildes\r\n                    for (let row = 0; row < imgH; row += 1) {\r\n                        const canvasRow = ((nodeY + row) * canvasW + nodeX) * 4;\r\n                        // wir laufen durch alle spalten des bildes und betrachten dann 4 werte im array\r\n                        for (let col = 0; col < imgW; col += 1) {\r\n                            const c = canvasRow + col * 4;\r\n                            const p = (row * imgW + col) * 4;\r\n                            canvasPixel[c] = node.colorKey[0]; // R\r\n                            canvasPixel[c + 1] = node.colorKey[1]; // G\r\n                            canvasPixel[c + 2] = node.colorKey[2]; // B\r\n                            canvasPixel[c + 3] = 255; //\r\n                        }\r\n                    }\r\n                } else {\r\n                    // drawcluster\r\n                    let c = (nodeY * canvasW + nodeX) * 4;\r\n                    canvasPixel[c] = node.colorKey[0];\r\n                    canvasPixel[c + 1] = node.colorKey[1];\r\n                    canvasPixel[c + 2] = node.colorKey[2];\r\n                    canvasPixel[c + 3] = 255;\r\n                    c = (nodeY * canvasW + nodeX + 1) * 4;\r\n                    canvasPixel[c] = node.colorKey[0];\r\n                    canvasPixel[c + 1] = node.colorKey[1];\r\n                    canvasPixel[c + 2] = node.colorKey[2];\r\n                    canvasPixel[c + 3] = 255;\r\n                    c = (nodeY * canvasW + canvasW + nodeX) * 4;\r\n                    canvasPixel[c] = node.colorKey[0];\r\n                    canvasPixel[c + 1] = node.colorKey[1];\r\n                    canvasPixel[c + 2] = node.colorKey[2];\r\n                    canvasPixel[c + 3] = 255;\r\n                    c = (nodeY * canvasW + canvasW + nodeX + 1) * 4;\r\n                    canvasPixel[c] = node.colorKey[0];\r\n                    canvasPixel[c + 1] = node.colorKey[1];\r\n                    canvasPixel[c + 2] = node.colorKey[2];\r\n                    canvasPixel[c + 3] = 255;\r\n                }\r\n            } else if (inside) {\r\n                console.error('Bild scheint nicht fertig geladen');\r\n                console.log(node);\r\n                console.log(zoomStage);\r\n            }\r\n        });\r\n\r\n        const pic = new ImageData(canvasPixel, canvasW, canvasH);\r\n        const ctx = this.ui.toggle ? this.ctx : this.hitCtx;\r\n        ctx.resetTransform();\r\n        ctx.clearRect(0, 0, this.width, this.height);\r\n        ctx.putImageData(pic, 0, 0);\r\n\r\n        // console.log(pic);\r\n        // console.log(canvasPixel);\r\n\r\n\r\n        // console.log({ w, h, tx, ty, pixel });\r\n        console.timeEnd('drawHitmap');\r\n    }\r\n\r\n    draw2() {\r\n        console.time('draw2');\r\n\r\n        const canvasW = this.width,\r\n            canvasH = this.height,\r\n            tx = this.translateX, // wird auf die node x,y aufaddiert\r\n            ty = this.translateY,\r\n            zoomStage = this.zoomStage,\r\n            scale = this.scale;// node x,y werden multipliziert\r\n        const canvasPixel = new Uint8ClampedArray(canvasW * canvasH * 4);\r\n        // console.log({ canvasW, canvasH, tx, ty, scale });\r\n\r\n        const drawBoarder = this.ui.boarderRanked;\r\n        const rankSize = this.ui.sizeRanked;\r\n        const borderW = 1;\r\n        const gradient = this.ui.gradient;\r\n\r\n        Object.values(this.nodes).forEach((node) => {\r\n            // start x,y ist x *scale + translateX\r\n            // console.log(node)\r\n            // console.log(zoomStage)\r\n            const canvasX = Math.floor(node.x * scale + tx);\r\n            const canvasY = Math.floor(node.y * scale + ty);\r\n            const rank = node.rank * 10;\r\n\r\n            const img = node.imageData[rankSize ? rank : zoomStage];\r\n            // console.log(img)\r\n            const iw = img.width;\r\n            const ih = img.height;\r\n            const inside = canvasX > borderW && canvasY > borderW && canvasX < (canvasW - iw - borderW) && canvasY < (canvasH - ih - borderW);\r\n\r\n\r\n            // test if image obj exists\r\n            if (img && inside) {\r\n                // cluster\r\n                if (node.cluster < this.cluster) {\r\n                    const imgData = img.data;\r\n                    // wir gehen durch alle reihen des bildes\r\n                    for (let row = 0; row < ih; row += 1) {\r\n                        const canvasRow = ((canvasY + row) * canvasW + canvasX) * 4;\r\n                        // copy row to pixel\r\n                        // wir laufen durch alle spalten des bildes und betrachten dann 4 werte im array\r\n                        for (let col = 0; col < iw; col += 1) {\r\n                            const c = canvasRow + col * 4;\r\n                            const p = (row * iw + col) * 4;\r\n                            // if(c > canvasW * canvasH * 4) console.error(\"CRY\")\r\n                            canvasPixel[c] = imgData[p]; // R\r\n                            canvasPixel[c + 1] = imgData[p + 1]; // G\r\n                            canvasPixel[c + 2] = imgData[p + 2]; // B\r\n                            if (node.group) {\r\n                                canvasPixel[c + 3] = imgData[p + 3];\r\n                            } else {\r\n                                canvasPixel[c + 3] ? canvasPixel[c + 3] += 10 : canvasPixel[c + 3] = 50 + zoomStage * 50;// imgData[p + 3]; // A\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if (drawBoarder) {\r\n                        const color = gradient[rank];\r\n                        // draw boarder\r\n                        for (let row = -2; row <= ih + 1; row += 1) {\r\n                            const canvasRow = ((canvasY + row) * canvasW + canvasX) * 4;\r\n                            if (row === -2 || row === ih + 1) {\r\n                                // draw top line r\r\n                                for (let col = 0; col < iw; col += 1) {\r\n                                    const c = canvasRow + col * 4;\r\n                                    canvasPixel[c] = color[0]; // R\r\n                                    canvasPixel[c + 1] = color[1]; // G\r\n                                    canvasPixel[c + 2] = color[2]; // B\r\n                                    canvasPixel[c + 3] = 200; // ? canvasPixel[c + 3] += 10 : canvasPixel[c + 3] = 50 + zoomStage * 50;// imgData[p + 3]; // A\r\n                                }\r\n                            } else {\r\n                                // draw left boarder\r\n                                const l = canvasRow - 8;\r\n                                canvasPixel[l] = color[0]; // R\r\n                                canvasPixel[l + 1] = color[1]; // G\r\n                                canvasPixel[l + 2] = color[2]; // B\r\n                                canvasPixel[l + 3] = 200; // ? canvasPixel[l + 3] += 10 : canvasPixel[l + 3] = 50 + zoomStage * 50;// imgData[p + 3]; // A\r\n\r\n                                // draw left boarder\r\n                                const r = canvasRow + (iw + 1) * 4;\r\n                                canvasPixel[r] = color[0]; // R\r\n                                canvasPixel[r + 1] = color[1]; // G\r\n                                canvasPixel[r + 2] = color[2]; // B\r\n                                canvasPixel[r + 3] = 200; // ? canvasPixel[r + 3] += 10 : canvasPixel[r + 3] = 50 + zoomStage * 50;// imgData[p + 3]; // A\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if (this.selectedCategory && this.selectedLabel && this.selectedLabel === node.labels[this.selectedCategory]) {\r\n                        const color = [0, 0, 140];\r\n                        // draw boarder\r\n                        for (let row = -2; row <= ih + 1; row += 1) {\r\n                            const canvasRow = ((canvasY + row) * canvasW + canvasX) * 4;\r\n                            if (row === -2 || row === ih + 1) {\r\n                                // draw top line r\r\n                                for (let col = 0; col < iw; col += 1) {\r\n                                    const c = canvasRow + col * 4;\r\n                                    canvasPixel[c] = color[0]; // R\r\n                                    canvasPixel[c + 1] = color[1]; // G\r\n                                    canvasPixel[c + 2] = color[2]; // B\r\n                                    canvasPixel[c + 3] = 200; // ? canvasPixel[c + 3] += 10 : canvasPixel[c + 3] = 50 + zoomStage * 50;// imgData[p + 3]; // A\r\n                                }\r\n                            } else {\r\n                                // draw left boarder\r\n                                const l = canvasRow - 8;\r\n                                canvasPixel[l] = color[0]; // R\r\n                                canvasPixel[l + 1] = color[1]; // G\r\n                                canvasPixel[l + 2] = color[2]; // B\r\n                                canvasPixel[l + 3] = 200; // ? canvasPixel[l + 3] += 10 : canvasPixel[l + 3] = 50 + zoomStage * 50;// imgData[p + 3]; // A\r\n\r\n                                // draw left boarder\r\n                                const r = canvasRow + (iw + 1) * 4;\r\n                                canvasPixel[r] = color[0]; // R\r\n                                canvasPixel[r + 1] = color[1]; // G\r\n                                canvasPixel[r + 2] = color[2]; // B\r\n                                canvasPixel[r + 3] = 200; // ? canvasPixel[r + 3] += 10 : canvasPixel[r + 3] = 50 + zoomStage * 50;// imgData[p + 3]; // A\r\n                            }\r\n                        }\r\n                    }\r\n                } else {\r\n                    // drawcluster\r\n                    let c = (canvasY * canvasW + canvasX) * 4;\r\n                    canvasPixel[c] = 0;\r\n                    canvasPixel[c + 1] = 0;\r\n                    canvasPixel[c + 2] = 0;\r\n                    canvasPixel[c + 3] = 255;\r\n                    c = (canvasY * canvasW + canvasX + 1) * 4;\r\n                    canvasPixel[c] = 0;\r\n                    canvasPixel[c + 1] = 0;\r\n                    canvasPixel[c + 2] = 0;\r\n                    canvasPixel[c + 3] = 255;\r\n                    c = (canvasY * canvasW + canvasW + canvasX) * 4;\r\n                    canvasPixel[c] = 0;\r\n                    canvasPixel[c + 1] = 0;\r\n                    canvasPixel[c + 2] = 0;\r\n                    canvasPixel[c + 3] = 255;\r\n                    c = (canvasY * canvasW + canvasW + canvasX + 1) * 4;\r\n                    canvasPixel[c] = 0;\r\n                    canvasPixel[c + 1] = 0;\r\n                    canvasPixel[c + 2] = 0;\r\n                    canvasPixel[c + 3] = 255;\r\n                }\r\n            } else if (inside) {\r\n                console.error('Bild scheint nicht fertig geladen');\r\n                console.log(node);\r\n                console.log(zoomStage);\r\n            }\r\n        });\r\n\r\n        if (this.drawScissors) {\r\n            const canvasX = this.scissorsStartX < this.scissorsEndX ? this.scissorsStartX : this.scissorsEndX;\r\n            const canvasY = this.scissorsStartY < this.scissorsEndY ? this.scissorsStartY : this.scissorsEndY;\r\n\r\n            const w = Math.abs(this.scissorsEndX - this.scissorsStartX);\r\n            const h = Math.abs(this.scissorsEndY - this.scissorsStartY);\r\n\r\n\r\n            // '#3882ff';\r\n            const color = [56, 130, 255];\r\n\r\n            for (let row = 0; row < h; row += 1) {\r\n                const canvasRow = ((canvasY + row) * canvasW + canvasX) * 4;\r\n\r\n                for (let col = 0; col < w; col += 1) {\r\n                    const c = canvasRow + col * 4;\r\n                    if (row === 0 || row === h - 1) {\r\n                        // draw top line r\r\n\r\n                        canvasPixel[c] = color[0]; // R\r\n                        canvasPixel[c + 1] = color[1]; // G\r\n                        canvasPixel[c + 2] = color[2]; // B\r\n                        canvasPixel[c + 3] = 255;\r\n                    } else if (col === 0 || col === w - 1) {\r\n                        // draw left boarder\r\n                        const l = canvasRow;\r\n                        canvasPixel[l] = color[0]; // R\r\n                        canvasPixel[l + 1] = color[1]; // G\r\n                        canvasPixel[l + 2] = color[2]; // B\r\n                        canvasPixel[l + 3] = 255;\r\n\r\n                        // draw left boarder\r\n                        const r = canvasRow + (w - 1) * 4;\r\n                        canvasPixel[r] = color[0]; // R\r\n                        canvasPixel[r + 1] = color[1]; // G\r\n                        canvasPixel[r + 2] = color[2]; // B\r\n                        canvasPixel[r + 3] = 255;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        const pic = new ImageData(canvasPixel, canvasW, canvasH);\r\n        this.ctx.resetTransform();\r\n        this.ctx.clearRect(0, 0, this.width, this.height);\r\n        this.ctx.putImageData(pic, 0, 0);\r\n\r\n        // console.log(pic);\r\n        // console.log(canvasPixel);\r\n\r\n\r\n        // console.log({ w, h, tx, ty, pixel });\r\n        console.timeEnd('draw2');\r\n        requestAnimationFrame(() => this.drawHitmap());\r\n        this.valid = true;\r\n        if (this.ui.showHeatmap) requestAnimationFrame(this.ui.drawHeatmap);\r\n        if (this.ui.showNavMap) requestAnimationFrame(this.ui.drawNavMapRect);\r\n        if (this.ui.showNavHeatmap) requestAnimationFrame(this.ui.drawNavHeatmapRect);\r\n    }\r\n\r\n    zoom(wheelEvent) {\r\n        // console.log('zoom event');\r\n        wheelEvent.preventDefault();\r\n        wheelEvent.stopPropagation();\r\n        // console.log(wheelEvent)\r\n        const nodeUnderMouse = this.nodeUnderMouse;\r\n\r\n        // if there is a selection and the mouse is over a link\r\n        // TODO test if this.selection.links[nodeUnderMouse.index] exists for cleaner statment\r\n        if (this.selection && this.selection.links[nodeUnderMouse.index]) {\r\n            const i = nodeUnderMouse.index;\r\n            const links = this.selection.links;\r\n            if (wheelEvent.deltaY < 0) {\r\n                console.log('zoom in - image smaller');\r\n                links[i] -= 0.1;\r\n            }\r\n\r\n            // Zoom out = decrease = wheel down = positiv delta Y\r\n            if (wheelEvent.deltaY > 0) {\r\n                console.log('zoom out - image bigger');\r\n                links[i] += 0.1;\r\n            }\r\n            if (links[i] < 0.1) links[i] = 0.1;\r\n            if (links[i] > 1) links[i] = 1;\r\n            this.triggerDraw();\r\n        } else {\r\n            const oldScale = this.scale;\r\n            const mouseX = wheelEvent.offsetX;\r\n            const mouseY = wheelEvent.offsetY;\r\n            // console.log({ mouseX, mouseY });\r\n            // get mouse movement based on the last triggered event\r\n            const offsetX = (mouseX - this.translateX) / oldScale; // +80 means move 80px to right\r\n            const offsetY = (mouseY - this.translateY) / oldScale; // -50 means move 50 to top\r\n            // console.log({ offsetX, offsetY });\r\n\r\n            // Zoom in = increase = wheel up = negativ delta Y\r\n            if (wheelEvent.deltaY < 0) {\r\n                console.log('zoom in');\r\n                this.scale2 += 1;\r\n                this.zoomStage += 1;\r\n                this.scale *= 2; // this.scaleStage[this.zoomStage] || this.scaleStage[this.scaleStage.length - 1];\r\n                this.cluster *= this.clusterGrowth;\r\n            }\r\n\r\n            // Zoom out = decrease = wheel down = positiv delta Y\r\n            if (wheelEvent.deltaY > 0) {\r\n                console.log('zoom out');\r\n                this.scale2 -= 1;\r\n                this.zoomStage -= 1;\r\n                this.scale /= 2; // this.scaleStage[this.zoomStage] || this.scaleStage[this.scaleStage.length - 1];\r\n                this.cluster /= this.clusterGrowth;\r\n            }\r\n\r\n\r\n            const scaleChange = this.scale - oldScale;\r\n            this.translateX -= offsetX * scaleChange;\r\n            this.translateY -= offsetY * scaleChange;\r\n\r\n            this.triggerDraw();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    findNodeByMousePosition(x, y) {\r\n        const pixel = this.hitCtx.getImageData(x, y, 1, 1).data;\r\n        const color = `rgb(${pixel[0]},${pixel[1]},${pixel[2]})`;\r\n        const nodeId = this.colorHash[color];\r\n        // console.log({ x, y });\r\n        // console.log(pixel);\r\n        if (nodeId >= 0) {\r\n            return this.nodes[nodeId];\r\n        }\r\n        return false;\r\n    }\r\n\r\n    handleMouseDown(e) {\r\n        // tell the browser we're handling this mouse event\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        // console.log(e)\r\n\r\n        console.log('mousedown');\r\n        // console.log(e.offsetX);\r\n        // console.log(e.offsetY);\r\n\r\n        // console.log(this.hitCanvas.width);\r\n        // console.log(this.hitCtx.width);\r\n        // console.log(this.canvas.width);\r\n        // console.log(this.ctx.width);\r\n\r\n\r\n        // saving for checking if node was clicked in handleMouseUp\r\n        const nodeUnderMouse = this.nodeUnderMouse;\r\n        this.nodeOnMouseDown = nodeUnderMouse;\r\n\r\n        // save start position\r\n        this.startX = e.offsetX;\r\n        this.startY = e.offsetY;\r\n\r\n\r\n        // if there is no mouse under mouse then move everything\r\n        if (nodeUnderMouse) {\r\n            this.draggNode = nodeUnderMouse;\r\n        } else if (this.scissors) {\r\n            console.log('Scissors');\r\n            // save start X/Y\r\n            this.drawScissors = true;\r\n            this.scissorsStartX = this.startX;\r\n            this.scissorsStartY = this.startY;\r\n            this.triggerDraw();\r\n        } else {\r\n            // if nothing is clicked\r\n            this.dragging = true;\r\n        }\r\n    }\r\n\r\n\r\n    handleMouseMove(e) {\r\n        // other way for getting x/y\r\n        /* const mousePos = {\r\n            x: e.clientX - canvas.offsetLeft,\r\n            y: e.clientY - canvas.offsetTop\r\n        }; */\r\n\r\n        const mouseX = e.offsetX;\r\n        const mouseY = e.offsetY;\r\n\r\n        if (this.scissors) {\r\n            this.scissorsEndX = mouseX;\r\n            this.scissorsEndY = mouseY;\r\n            this.triggerDraw();\r\n        }\r\n\r\n\r\n        // there is a freeze and not freeze mode -\r\n        // different interaction based ob if a node is active or node\r\n        const nodeUnderMouse = this.findNodeByMousePosition(mouseX, mouseY);\r\n        this.nodeUnderMouse = nodeUnderMouse;\r\n        this.ui.activeNode = nodeUnderMouse;\r\n        // load high resoultion image\r\n        if (nodeUnderMouse && !nodeUnderMouse.hasImage) this.socket.emit('requestImage', { name: nodeUnderMouse.name, index: nodeUnderMouse.index });\r\n\r\n        // DRAG AND DROP\r\n        if (this.draggNode || this.dragging) {\r\n            // get mouse movement based on the last triggered event\r\n            const moveX = mouseX - this.startX; // +80 means move 80px to right\r\n            const moveY = mouseY - this.startY; // -50 means move 50 to top\r\n            // console.log({ moveX, moveY });\r\n\r\n            // save new mouse position for next event\r\n            this.startX = mouseX;\r\n            this.startY = mouseY;\r\n\r\n            if (this.dragging) {\r\n                // console.log(\"dragging\")\r\n                // move the x/y\r\n                this.translateX += moveX;\r\n                this.translateY += moveY;\r\n            } else if (this.draggNode) {\r\n                // console.log(\"draggeNode\")\r\n                // scale the X/Y\r\n                const nodeX = moveX / this.scale;\r\n                const nodeY = moveY / this.scale;\r\n\r\n                // drag hole group\r\n                if (this.draggNode.group) {\r\n                    Object.values(this.nodes).forEach((node) => {\r\n                        if (node.group) node.move(nodeX, nodeY);\r\n                    });\r\n                } else {\r\n                    // drag only one node\r\n                    this.draggNode.move(nodeX, nodeY);\r\n                }\r\n\r\n                // drag neighbours in freeze mode\r\n                if (this.selection && this.selection === this.draggNode) {\r\n                    Object.entries(this.selection.links).forEach(([i, strength]) => {\r\n                        const neighbour = this.nodes[i];\r\n                        // todo error handling if the neighbour is not existing for katja\r\n                        if (neighbour) neighbour.move(nodeX * strength, nodeY * strength);\r\n                    });\r\n                }\r\n            }\r\n            this.triggerDraw();\r\n        }\r\n\r\n        // mouse over empty area\r\n    }\r\n\r\n    handleMouseUp(e) {\r\n        console.log('mouseup');\r\n        const nodeUnderMouse = this.nodeUnderMouse;\r\n        const ctrlKeyPressed = e.ctrlKey;\r\n        // const shiftKeyPressed = e.shiftKey;\r\n        // const altKeyPressed = e.altKey;\r\n        if (nodeUnderMouse && nodeUnderMouse === this.nodeOnMouseDown) {\r\n            // click event on a special node - do something\r\n            console.log('click on node:');\r\n            console.log(nodeUnderMouse);\r\n            // used for components for adding nodes to special cases\r\n            this.ui.clickedNode = nodeUnderMouse;\r\n            switch (this.ui.$route.name) {\r\n            case SVM:\r\n                if (ctrlKeyPressed) nodeUnderMouse.group = !nodeUnderMouse.group;\r\n                break;\r\n            case NEIGHBOURS:\r\n                if (this.selection && this.selection !== this.nodeUnderMouse && ctrlKeyPressed) {\r\n                    console.log('Add or remove link');\r\n                    const links = Object.keys(this.selection.links);\r\n                    const i = this.nodeUnderMouse.index;\r\n                    console.log({ i, links });\r\n                    if (this.selection.links[i]) {\r\n                        console.log('remove link');\r\n                        delete this.selection.links[i];\r\n                    } else {\r\n                        console.log('Add link');\r\n                        this.selection.links[i] = 0.5;\r\n                    }\r\n                    console.log(this.selection);\r\n                }\r\n                break;\r\n            default:\r\n                console.log('no mode selected - what to do with a node click now?');\r\n            }\r\n        }\r\n\r\n        // there is a selection and this is not the activeNode\r\n\r\n\r\n        this.dragging = false;\r\n        this.draggNode = false;\r\n\r\n        if (this.scissors) {\r\n            this.ui.cuttedNodes = [];\r\n            const startX = (this.scissorsStartX - this.translateX) / this.scale;\r\n            const startY = (this.scissorsStartY - this.translateY) / this.scale;\r\n            const endX = (this.scissorsEndX - this.translateX) / this.scale;\r\n            const endY = (this.scissorsEndY - this.translateY) / this.scale;\r\n            // console.log({startX, startY})\r\n            // console.log({endX, endY})\r\n            Object.values(this.nodes).forEach((node) => {\r\n                // console.log(node)\r\n                // check for all nodes if they are inside the rectangle\r\n                if ((node.x > startX && node.x < endX) || (node.x < startX && node.x > endX)) {\r\n                    if ((node.y < startY && node.y > endY) || (node.y > startY && node.y < endY)) {\r\n                        this.ui.cuttedNodes.push(node);\r\n                    }\r\n                }\r\n            });\r\n\r\n            // reset\r\n            this.scissors = false;\r\n            this.ui.scissors = false;\r\n            this.drawScissors = false;\r\n            // TODO handle object in scissors rectangle\r\n        }\r\n        this.triggerDraw();\r\n    }\r\n\r\n\r\n    handleDoubleClick() {\r\n        console.log('Double click');\r\n        if (this.nodeUnderMouse && this.nodeUnderMouse !== this.selection) {\r\n            this.selection = this.nodeUnderMouse;\r\n        } else this.selection = null;\r\n        this.triggerDraw();\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/CanvasState.js","export const TSNE = 'tsne';\r\nexport const NEIGHBOURS = 'neighbours';\r\nexport const TRIPLETS = 'triplets';\r\nexport const CLASSIFIER = 'classifier';\r\nexport const SVM = 'svm';\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/modes.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('input',{attrs:{\"type\":\"range\",\"min\":\"0\",\"max\":\"800\",\"step\":\"10\"},domProps:{\"value\":_vm.value}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-58e23a42\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/RangeSlider.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-58e23a42\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./RangeSlider.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./RangeSlider.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./RangeSlider.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-58e23a42\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./RangeSlider.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-58e23a42\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/RangeSlider.vue\n// module id = null\n// module chunks = ","<template>\r\n    <input type=\"range\" min=\"0\" max=\"800\" step=\"10\" :value=\"value\"/>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'range-slider',\r\n\r\n    props: ['value', 'change', 'input', 'slide'],\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n    input[type=range] {\r\n        -webkit-appearance: none;\r\n        width: 100%;\r\n        margin: 6.05px 0;\r\n    }\r\n    input[type=range]:focus {\r\n        outline: none;\r\n    }\r\n    input[type=range]::-webkit-slider-runnable-track {\r\n        width: 100%;\r\n        height: 10.9px;\r\n        cursor: pointer;\r\n        box-shadow: 1.5px 1.5px 5px rgba(104, 114, 229, 0.5), 0px 0px 1.5px rgba(126, 134, 233, 0.5);\r\n        background: #ffffff;\r\n        border-radius: 25px;\r\n        border: 0.6px solid #6772e5;\r\n    }\r\n    input[type=range]::-webkit-slider-thumb {\r\n        box-shadow: 0px 0px 12.3px rgba(103, 114, 229, 0.48), 0px 0px 0px rgba(125, 134, 233, 0.48);\r\n        border: 2.5px solid #ffffff;\r\n        height: 23px;\r\n        width: 23px;\r\n        border-radius: 12px;\r\n        background: #6772e5;\r\n        cursor: pointer;\r\n        -webkit-appearance: none;\r\n        margin-top: -6.65px;\r\n    }\r\n    input[type=range]:focus::-webkit-slider-runnable-track {\r\n        background: #ffffff;\r\n    }\r\n    input[type=range]::-moz-range-track {\r\n        width: 100%;\r\n        height: 10.9px;\r\n        cursor: pointer;\r\n        box-shadow: 1.5px 1.5px 5px rgba(104, 114, 229, 0.5), 0px 0px 1.5px rgba(126, 134, 233, 0.5);\r\n        background: #ffffff;\r\n        border-radius: 25px;\r\n        border: 0.6px solid #6772e5;\r\n    }\r\n    input[type=range]::-moz-range-thumb {\r\n        box-shadow: 0px 0px 12.3px rgba(103, 114, 229, 0.48), 0px 0px 0px rgba(125, 134, 233, 0.48);\r\n        border: 2.5px solid #ffffff;\r\n        height: 23px;\r\n        width: 23px;\r\n        border-radius: 12px;\r\n        background: #6772e5;\r\n        cursor: pointer;\r\n    }\r\n    input[type=range]::-ms-track {\r\n        width: 100%;\r\n        height: 10.9px;\r\n        cursor: pointer;\r\n        background: transparent;\r\n        border-color: transparent;\r\n        color: transparent;\r\n    }\r\n    input[type=range]::-ms-fill-lower {\r\n        background: #f0f0f0;\r\n        border: 0.6px solid #6772e5;\r\n        border-radius: 50px;\r\n        box-shadow: 1.5px 1.5px 5px rgba(104, 114, 229, 0.5), 0px 0px 1.5px rgba(126, 134, 233, 0.5);\r\n    }\r\n    input[type=range]::-ms-fill-upper {\r\n        background: #ffffff;\r\n        border: 0.6px solid #6772e5;\r\n        border-radius: 50px;\r\n        box-shadow: 1.5px 1.5px 5px rgba(104, 114, 229, 0.5), 0px 0px 1.5px rgba(126, 134, 233, 0.5);\r\n    }\r\n    input[type=range]::-ms-thumb {\r\n        box-shadow: 0px 0px 12.3px rgba(103, 114, 229, 0.48), 0px 0px 0px rgba(125, 134, 233, 0.48);\r\n        border: 2.5px solid #ffffff;\r\n        height: 23px;\r\n        width: 23px;\r\n        border-radius: 12px;\r\n        background: #6772e5;\r\n        cursor: pointer;\r\n        height: 10.9px;\r\n    }\r\n    input[type=range]:focus::-ms-fill-lower {\r\n        background: #ffffff;\r\n    }\r\n    input[type=range]:focus::-ms-fill-upper {\r\n        background: #ffffff;\r\n    }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/RangeSlider.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"triblet-area\"},[(_vm.node.negatives)?_c('div',{staticClass:\"negatives area\",class:{redActive: _vm.redActive},on:{\"click\":_vm.toogleRed}},[(_vm.node.negatives)?_vm._l((_vm.node.negatives),function(n,i){return _c('div',{key:i,staticClass:\"image\"},[_c('img',{attrs:{\"src\":n.icon.src,\"alt\":\"\"},on:{\"click\":function($event){_vm.removeNegativ(i)}}})])}):_vm._e()],2):_vm._e(),_vm._v(\" \"),(_vm.node.icon)?_c('div',{staticClass:\"node\"},[(_vm.node.icon)?[_c('img',{attrs:{\"src\":_vm.node.icon.src,\"alt\":\"\"}})]:_vm._e()],2):_vm._e(),_vm._v(\" \"),(_vm.node.positives)?_c('div',{staticClass:\"positives area\",class:{greenActive: _vm.greenActive},on:{\"click\":_vm.toogleBlue}},[(_vm.node.positives)?_vm._l((_vm.node.positives),function(n,i){return _c('div',{key:i,staticClass:\"image\"},[_c('img',{attrs:{\"src\":n.icon.src,\"alt\":\"\"},on:{\"click\":function($event){_vm.removePositiv(i)}}})])}):_vm._e()],2):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0576dd0c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Triplets.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0576dd0c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Triplets.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Triplets.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Triplets.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0576dd0c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Triplets.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0576dd0c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Triplets.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"triblet-area\">\r\n\r\n        <div v-if=\"node.negatives\" class=\"negatives area\" :class=\"{redActive}\" @click=\"toogleRed\">\r\n            <template v-if=\"node.negatives\">\r\n                <div class=\"image\" v-for=\"(n, i) in node.negatives\" :key=\"i\">\r\n                    <img\r\n                        :src=\"n.icon.src\"\r\n                        alt=\"\"\r\n                        @click=\"removeNegativ(i)\"\r\n                    >\r\n                </div>\r\n            </template>\r\n        </div>\r\n        <div v-if=\"node.icon\" class=\"node\">\r\n            <template v-if=\"node.icon\">\r\n                <img :src=\"node.icon.src\" alt=\"\">\r\n            </template>\r\n        </div>\r\n        <div v-if=\"node.positives\" class=\"positives area\" :class=\"{greenActive}\" @click=\"toogleBlue\">\r\n            <template v-if=\"node.positives\">\r\n                <div class=\"image\" v-for=\"(n, i) in node.positives\" :key=\"i\">\r\n                    <img\r\n                        :src=\"n.icon.src\"\r\n                        alt=\"\"\r\n                        @click=\"removePositiv(i)\"\r\n                    >\r\n                </div>\r\n            </template>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n/*\r\n    user clicks on area and can then add items\r\n    TODO: if the user click somewhere else toogle all to false\r\n    TODO: delete selection in trible\r\n    TODO: sizing images in triple\r\n\r\n\r\n */\r\n\r\nexport default {\r\n    name: 'triplets',\r\n    props: ['node', 'positives', 'negatives'],\r\n    data: () => ({\r\n        redActive: false,\r\n        greenActive: false,\r\n    }),\r\n    methods: {\r\n        toogleRed() {\r\n            if (!this.redActive && this.greenActive) this.greenActive = false;\r\n            this.redActive = !this.redActive;\r\n        },\r\n        toogleBlue() {\r\n            if (!this.greenActive && this.redActive) this.redActive = false;\r\n            this.greenActive = !this.greenActive;\r\n        },\r\n        removePositiv(i) {\r\n            this.node.positives.splice(i, 1);\r\n        },\r\n        removeNegativ(i) {\r\n            this.node.negatives.splice(i, 1);\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n    .triblet-area{\r\n        /*width: 100%;*/\r\n        height: 10rem;\r\n\r\n        display: flex;\r\n        background-color: white;\r\n\r\n        padding: 5px;\r\n    }\r\n\r\n    .node {\r\n        /*width: 5rem;*/\r\n        margin: 0 5px;\r\n        flex: 1;\r\n\r\n        border: 1px solid rgba(146, 144, 142, 0.5);\r\n        border-radius: 15px;\r\n        background-color: rgba(91, 88, 82, 0.1);\r\n    }\r\n\r\n    img {\r\n        height: 100%;\r\n        width: 100%;\r\n\r\n        object-fit: scale-down;\r\n    }\r\n\r\n    .redActive, .greenActive {\r\n        //border-width: 3px !important;\r\n        //margin: 0 !important;\r\n    }\r\n    .area {\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        flex-flow: wrap;\r\n        flex-direction: row;\r\n        flex: 5;\r\n        /*margin: 2px;*/\r\n    }\r\n\r\n    .positives {\r\n        border: 1px solid rgba(0, 255, 10, 0.5);\r\n        border-radius: 15px;\r\n        background-color: rgba(0, 255, 10, 0.1);\r\n    }\r\n\r\n    .negatives {\r\n        border: 1px solid rgba(255, 59, 20, 0.5);\r\n        border-radius: 15px;\r\n        background-color: rgba(255, 59, 20, 0.1);\r\n    }\r\n\r\n    .image {\r\n        width: 4rem;\r\n        height: 4rem;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-content: center;\r\n        /*border: 1px solid red;*/\r\n\r\n        padding: 0.1rem;\r\n    }\r\n\r\n    .image :hover {\r\n        /*//width: 7rem;*/\r\n    }\r\n\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Triplets.vue","<template>\r\n    <div class=\"classifier\">\r\n        <div class=\"row wrap\">\r\n            <div\r\n                class=\"btn\"\r\n                v-for=\"(cat, i) in labels\"\r\n                :key=\"i\"\r\n                :class=\"{active: selectedCategory === i}\"\r\n                @click=\"selectedCategory = i\"\r\n            >\r\n                {{cat.name}}\r\n            </div>\r\n            <div class=\"btn\" @click=\"showAddCategory = !showAddCategory\">\r\n                +\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"row\" v-if=\"showAddCategory\">\r\n            <input type=\"text\" v-model=\"category\"/>\r\n            <div @click=\"addCategory\" class=\"btn\">add</div>\r\n        </div>\r\n\r\n        <div class=\"imgArea\">\r\n            <div class=\"image\" v-for=\"(n, i) in selectedNodes\" :key=\"i\">\r\n                <img\r\n                    :src=\"n.icon\"\r\n                    alt=\"\"\r\n                    @click=\"removeNode(i)\"\r\n                >\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n            <input type=\"text\" v-model=\"label\" @focus=\"handleFocus\" @blur=\"handleBlur\"/>\r\n            <div v-if=\"showLabelOptions\" class=\"dropdown\" @mouseenter=\"mouseOver = true\" @mouseleave=\"mouseOver = false\">\r\n                <div\r\n                    class=\"item\"\r\n                    v-for=\"label in labelsFiltered\"\r\n                    :key=\"label\"\r\n                    @click=\"chooseLabel(label)\"\r\n                >{{label}}</div>\r\n            </div>\r\n            <div @click=\"addLabel\" class=\"btn\">add</div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'classifier',\r\n    props: ['nodes', 'node', 'labels', 'triggerDraw'],\r\n    data: () => ({\r\n        label: '',\r\n        showLabelOptions: false,\r\n        selectedNodes: [],\r\n        mouseOver: false,\r\n        selectedCategory: '0',\r\n        showAddCategory: false,\r\n        category: '',\r\n\r\n    }),\r\n    watch: {\r\n        node(n) {\r\n            this.addNode(n);\r\n        },\r\n        nodes(nodes) {\r\n            if (nodes) nodes.forEach(n => this.addNode(n));\r\n        },\r\n    },\r\n    methods: {\r\n        addNode(n) {\r\n            if (n && this.selectedNodes.indexOf(n) === -1) this.selectedNodes.push(n);\r\n        },\r\n        removeNode(i) {\r\n            this.selectedNodes.splice(i, 1);\r\n        },\r\n        addCategory() {\r\n            console.log('addLabel clicked');\r\n            console.log(this.category);\r\n            const newKey = Object.keys(this.labels).length;\r\n            this.labels[newKey] = { name: this.category, labels: [] };\r\n\r\n            this.category = ''; // clear input\r\n            this.showAddCategory = false; // remove input\r\n        },\r\n        addLabel() {\r\n            console.log('addLabel clicked');\r\n            console.log(this.label);\r\n\r\n            // check if label is in list of labels allready?\r\n            if (this.labels[this.selectedCategory].labels.indexOf(this.label) === -1) this.labels[this.selectedCategory].labels.push(this.label);\r\n\r\n            // ad label to nodes after checking that is npot allready used at node\r\n            this.selectedNodes.forEach((node) => {\r\n                node.labels[this.selectedCategory] = this.label;\r\n            });\r\n\r\n            // reset input/label\r\n            this.label = '';\r\n\r\n            this.showLabelOptions = false;\r\n            this.triggerDraw();\r\n        },\r\n        handleFocus(e) {\r\n            console.log('input focus');\r\n            this.showLabelOptions = true;\r\n        },\r\n        handleBlur(e) {\r\n            console.log('input blur');\r\n            if (!this.mouseOver) this.showLabelOptions = false;\r\n        },\r\n        chooseLabel(label) {\r\n            console.log('chooselabel');\r\n            this.label = label;\r\n            this.showLabelOptions = false;\r\n        },\r\n    },\r\n    computed: {\r\n        labelsFiltered() {\r\n            return this.labels[this.selectedCategory].labels.filter(label => label.includes(this.label));\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n    .classifier {\r\n        width: 100%;\r\n    }\r\n\r\n    .row {\r\n        display: flex;\r\n        position: relative;\r\n    }\r\n\r\n    .imgArea {\r\n        min-height: 4rem;\r\n        max-height: 15rem;\r\n        overflow: auto;\r\n\r\n        box-shadow: 0 7px 14px rgba(50,50,93,.1), 0 3px 6px rgba(0,0,0,.08);\r\n        display: flex;\r\n        /*justify-content: center;*/\r\n        align-items: center;\r\n        flex-flow: wrap;\r\n        flex-direction: row;\r\n    }\r\n\r\n    img {\r\n        height: 100%;\r\n        width: 100%;\r\n        object-fit: scale-down;\r\n    }\r\n\r\n    .image {\r\n        width: 3.5rem;\r\n        height: 3.5rem;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-content: center;\r\n        padding: 0.1rem;\r\n    }\r\n\r\n    .dropdown {\r\n        display: block;\r\n        position: absolute;\r\n        left: 0;\r\n        width: auto;\r\n\r\n        background-color: #fff;\r\n        border: 1px solid #c6c6c6;\r\n        border-radius: 3px;\r\n\r\n        box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);\r\n        top: 100%;\r\n        z-index: 1;\r\n    }\r\n\r\n    .item {\r\n        padding: 3px;\r\n    }\r\n\r\n    .item:hover {\r\n        background-color: #5cb9ff;\r\n    }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Classifier.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"classifier\"},[_c('div',{staticClass:\"row wrap\"},[_vm._l((_vm.labels),function(cat,i){return _c('div',{key:i,staticClass:\"btn\",class:{active: _vm.selectedCategory === i},on:{\"click\":function($event){_vm.selectedCategory = i}}},[_vm._v(\"\\n            \"+_vm._s(cat.name)+\"\\n        \")])}),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.showAddCategory = !_vm.showAddCategory}}},[_vm._v(\"\\n            +\\n        \")])],2),_vm._v(\" \"),(_vm.showAddCategory)?_c('div',{staticClass:\"row\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.category),expression:\"category\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.category)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.category=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.addCategory}},[_vm._v(\"add\")])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"imgArea\"},_vm._l((_vm.selectedNodes),function(n,i){return _c('div',{key:i,staticClass:\"image\"},[_c('img',{attrs:{\"src\":n.icon,\"alt\":\"\"},on:{\"click\":function($event){_vm.removeNode(i)}}})])})),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.label),expression:\"label\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.label)},on:{\"focus\":_vm.handleFocus,\"blur\":_vm.handleBlur,\"input\":function($event){if($event.target.composing){ return; }_vm.label=$event.target.value}}}),_vm._v(\" \"),(_vm.showLabelOptions)?_c('div',{staticClass:\"dropdown\",on:{\"mouseenter\":function($event){_vm.mouseOver = true},\"mouseleave\":function($event){_vm.mouseOver = false}}},_vm._l((_vm.labelsFiltered),function(label){return _c('div',{key:label,staticClass:\"item\",on:{\"click\":function($event){_vm.chooseLabel(label)}}},[_vm._v(_vm._s(label))])})):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.addLabel}},[_vm._v(\"add\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6b020e18\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Classifier.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6b020e18\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Classifier.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Classifier.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Classifier.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6b020e18\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Classifier.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6b020e18\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Classifier.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{staticClass:\"scissors\",class:{ active: _vm.active },attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"},on:{\"click\":_vm.clickHandler}},[_c('circle',{attrs:{\"cx\":\"6\",\"cy\":\"6\",\"r\":\"3\"}}),_vm._v(\" \"),_c('circle',{attrs:{\"cx\":\"6\",\"cy\":\"18\",\"r\":\"3\"}}),_vm._v(\" \"),_c('line',{attrs:{\"x1\":\"20\",\"y1\":\"4\",\"x2\":\"8.12\",\"y2\":\"15.88\"}}),_vm._v(\" \"),_c('line',{attrs:{\"x1\":\"14.47\",\"y1\":\"14.48\",\"x2\":\"20\",\"y2\":\"20\"}}),_vm._v(\" \"),_c('line',{attrs:{\"x1\":\"8.12\",\"y1\":\"8.12\",\"x2\":\"12\",\"y2\":\"12\"}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ba4fe850\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/icons/Scissors.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ba4fe850\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Scissors.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Scissors.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Scissors.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ba4fe850\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Scissors.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ba4fe850\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/icons/Scissors.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"body\">\r\n        <div class=\"sub-header\">\r\n            <div class=\"btn\" :if=\"nodesTotal\">{{nodesRecived + \"/\" + nodesTotal}}</div>\r\n\r\n\r\n            <div>\r\n                <div class=\"row\">\r\n                    <!--<div># {{nodesCount}}</div>-->\r\n                    <!--<div>connected: {{connectedToSocket}}</div>-->\r\n                    <div class=\"btn\"> {{scale}}</div>\r\n                    <!--<div class=\"btn\">{{scale2}}</div>-->\r\n                    <div class=\"btn\">{{zoomLvl}}</div>\r\n                    <div class=\"btn\">{{translateX}}</div>\r\n                    <div class=\"btn\">{{translateY}}</div>\r\n                    <!--<div class=\"btn\" @click=\"draw2\">draw2</div>-->\r\n                    <div class=\"btn\" @click=\"doubleNodes\">doubleNodes</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"row\">\r\n                <div class=\"dropdownArea\"></div>\r\n                <!--<div class=\"btn\" :class=\"{ active: toggle }\" @click=\"toggleToggle\">toggle</div>-->\r\n                <div class=\"btn\" :class=\"{ active: boarderRanked }\" @click=\"toggleBoarderRanked\">boarderRanked</div>\r\n                <div class=\"btn\" :class=\"{ active: sizeRanked }\" @click=\"toggleSizeRanked\">sizeRanked</div>\r\n                <div class=\"btn\" :class=\"{ active: showHeatmap }\" @click=\"toggleShowHeatmap\">heatmap</div>\r\n                <div class=\"btn\" :class=\"{ active: showNavMap }\" @click=\"toggleShowNavMap\">NavMap</div>\r\n                <div class=\"btn\" :class=\"{ active: showNavHeatmap }\" @click=\"toggleShowNavHeatmap\">NavHeatmap</div>\r\n\r\n\r\n                <div class=\"categoriesArea\" @mouseenter=\"showLabels = true\" @mouseleave=\"showLabels = false\">\r\n                    <div class=\"btn\">categories</div>\r\n                    <div class=\"categories\" v-if=\"showLabels\">\r\n                        <div\r\n                            v-for=\"(category, i) in labels\"\r\n                            :key=\"i\"\r\n                        >\r\n                            <div\r\n                                class=\"btn\"\r\n                                :class=\"{ active: selectedCategory === i }\"\r\n                                @click=\"toogleCategory(i)\"\r\n                            >\r\n                                {{ category.name }}\r\n                            </div>\r\n                            <div  v-if=\"selectedCategory === i\">\r\n                                <div\r\n                                    class=\"btn\"\r\n                                    v-for=\"label in category.labels\"\r\n                                    :class=\"{ active: selectedLabel === label }\"\r\n                                    @click=\"toogleLabel(label)\"\r\n                                    :key=\"label\"\r\n                                >\r\n                                    {{label}}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <!--<div\r\n                            class=\"btn\"\r\n                            :class=\"{ active: showKLabels }\"\r\n                            @click=\"toggleShowKLabels\"\r\n                        >\r\n                            K-Label\r\n                        </div>-->\r\n                    </div>\r\n                </div>\r\n\r\n                <div @click=\"toggleShowOptions\" class=\"btn\" :class=\"{ active: showOptions }\">Options</div>\r\n                <div @click=\"sendData\" class=\"btn\" >Update Data</div>\r\n                <div class=\"tool-box row\">\r\n                    <div v-if=\"loadingNodes\" class=\"loader\" ></div>\r\n                    <scissors :active=\"scissors\" :clickHandler=\"selectScissors\">a</scissors>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n            <div class=\"stack\">\r\n                <canvas ref=\"canvas\" id=\"canvas\" class=\"canvas\" tabindex=\"0\" ></canvas>\r\n                <div class=\"maps\">\r\n                    <canvas id=\"heatmap\" class=\"canvas\" :class=\"{ hide: !showHeatmap }\" tabindex=\"0\" ></canvas>\r\n                    <div class=\"navMap\" :class=\"{ hide: !showNavMap }\">\r\n                        <canvas id=\"navMap\" class=\"canvas\" tabindex=\"0\" ></canvas>\r\n                        <canvas id=\"navMapRect\" tabindex=\"0\" ></canvas>\r\n                    </div>\r\n                    <div class=\"navMap\" :class=\"{ hide: !showNavHeatmap }\">\r\n                        <canvas id=\"navHeatmap\" class=\"canvas\" tabindex=\"0\" ></canvas>\r\n                        <canvas id=\"navHeatmapRect\" tabindex=\"0\" ></canvas>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"details\">\r\n                <div v-if=\"showOptions\" class=\"options info-box\">\r\n                    <div class=\"\">\r\n                        <div>Cluster: {{Math.round(cluster)}}</div>\r\n                        <div class=\"row\">\r\n                            <div @click=\"changeCluster(-100)\" class=\"btn\">-100</div>\r\n                            <div @click=\"changeCluster(-1000)\" class=\"btn\">-1000</div>\r\n                            <div @click=\"changeCluster(100)\" class=\"btn\">+100</div>\r\n                            <div @click=\"changeCluster(1000)\" class=\"btn\">+1000</div>\r\n                        </div>\r\n                    </div>\r\n                    <!--\r\n                    <div class=\"row-btn\">\r\n                        <div>ImageWidth: {{imgWidth}}</div>\r\n                        <div class=\"row\">\r\n                            <div @click=\"changeImgWidth(-2)\" class=\"btn\">-2</div>\r\n                            <div @click=\"changeImgWidth(2)\" class=\"btn\">+2</div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row-btn\">\r\n                        <div>ImageWidth(active): {{activeImgWidth}}</div>\r\n                        <div class=\"row\">\r\n                            <div @click=\"activeImgWidthLess\" class=\"btn\">-1</div>\r\n                            <div @click=\"activeImgWidthMore\" class=\"btn\">+1</div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row-btn\">\r\n                        <div>BorderWidth: {{borderWidth}}</div>\r\n                        <div class=\"row\">\r\n                            <div @click=\"borderWidthLess\" class=\"btn\">-1</div>\r\n                            <div @click=\"borderWidthMore\" class=\"btn\">+1</div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row-btn\">\r\n                        <div>ScrollGrowth: {{scrollGrowth}}</div>\r\n                        <div class=\"row\">\r\n                            <div @click=\"changeScrollGrowth(-0.01)\" class=\"btn\">-0.1</div>\r\n                            <div @click=\"changeScrollGrowth(0.01)\" class=\"btn\">+0.1</div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row-btn\">\r\n                        <div>ScrollImgGrowth: {{scrollImgGrowth}}</div>\r\n                        <div class=\"row\">\r\n                            <div @click=\"changeScrollImgGrowth(-0.01)\" class=\"btn\">-0.1</div>\r\n                            <div @click=\"changeScrollImgGrowth(0.01)\" class=\"btn\">+0.1</div>\r\n                        </div>\r\n                    </div> -->\r\n                    <div class=\"row-btn\">\r\n                        <div>zoomStage: {{zoomStage}}</div>\r\n                        <div class=\"row\">\r\n                            <div @click=\"changeZoomStage(-1)\" class=\"btn\">-1</div>\r\n                            <div @click=\"changeZoomStage(1)\" class=\"btn\">+1</div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row-btn\">\r\n                        <div>ClusterGrowth: {{clusterGrowth}}</div>\r\n                        <div class=\"row\">\r\n                            <div @click=\"changeClusterGrowth(-0.01)\" class=\"btn\">-0.1</div>\r\n                            <div @click=\"changeClusterGrowth(0.01)\" class=\"btn\">+0.1</div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"option-title\">Heatmap</div>\r\n                    <div class=\"row-btn\">\r\n                        <div>Radius: {{heatmapRadius}}</div>\r\n                        <div class=\"row\">\r\n                            <div @click=\"changeHeatmapRadius(-1)\" class=\"btn\">+1</div>\r\n                            <div @click=\"changeHeatmapRadius(1)\" class=\"btn\">+1</div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row-btn\">\r\n                        <div>Blur: {{heatmapBlur}}</div>\r\n                        <div class=\"row\">\r\n                            <div @click=\"changeHeatmapBlur(-1)\" class=\"btn\">-1</div>\r\n                            <div @click=\"changeHeatmapBlur(1)\" class=\"btn\">+1</div>\r\n                        </div>\r\n                    </div>\r\n<!--                    <div class=\"row-btn\">\r\n                        <div>MinOpacity: {{heatmapMinOpacity}}</div>\r\n                        <div class=\"row\">\r\n                            <div @click=\"changeHeatmapMinOpacity(-0.01)\" class=\"btn\">-0.01</div>\r\n                            <div @click=\"changeHeatmapMinOpacity(0.01)\" class=\"btn\">+0.01</div>\r\n                        </div>\r\n                    </div>-->\r\n                    <div class=\"option-title\">Navmap</div>\r\n                    <div class=\"row-btn\">\r\n                        <div>NavMapAlpha: {{navMapAlpha}}</div>\r\n                        <div class=\"row\">\r\n                            <div @click=\"changeNavMapAlpha(-0.1)\" class=\"btn\">-0.1</div>\r\n                            <div @click=\"changeNavMapAlpha(0.1)\" class=\"btn\">+0.1</div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!--<div class=\"row-btn\">\r\n                        <div>{{range}}}</div>\r\n                        <range-slider v-model=\"cluster\" type=\"range\" min=\"0\" max=\"800\" step=\"10\" />\r\n                    </div>-->\r\n                </div>\r\n\r\n                <router-view\r\n                    :nodes=\"cuttedNodes\"\r\n                    :labels=\"labels\"\r\n                    :node=\"clickedNode\"\r\n                    :getNode=\"getNode\"\r\n                    :triggerDraw=\"triggerDraw\"\r\n                    :changeActiveNode=\"changeActiveNode\"\r\n                    :groupNodesByIds=\"groupNodesByIds\"\r\n                />\r\n\r\n\r\n                <div class=\"info-box\"  v-if=\"activeNode\">\r\n                    <img class=\"img\" v-if=\"activeNode.hasImage\" :src=\"activeNode.image.src\" />\r\n                    <div>Name: {{activeNode.name}}</div>\r\n                    <div>Label: {{activeNode.label}}</div>\r\n                    <div>Labels: {{activeNode.labels}}</div>\r\n                    <div>Links #: {{selectedNodeNeighboursCount}}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <triplets :node=\"activeNode\"/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport io from 'socket.io-client';\r\nimport simpleheat from 'simpleheat';\r\nimport Node from '../util/Node';\r\nimport CanvasState from '../util/CanvasState';\r\nimport RangeSlider from './RangeSlider';\r\nimport Triplets from './Triplets';\r\nimport Classifier from './Classifier';\r\nimport Scissors from '../icons/Scissors';\r\n\r\n/*\r\n    TODO:\r\n    - rename imageWidth to imageSize\r\n    - rename scale to zoom\r\n*/\r\n\r\n/* function makeImgageData(img) {\r\n    const canvas = document.createElement('canvas');\r\n    const context = canvas.getContext('2d');\r\n    canvas.width = img.width;\r\n    canvas.height = img.height;\r\n    context.drawImage(img, 0, 0);\r\n    const data = context.getImageData(0, 0, img.width, img.height);\r\n    console.log(data);\r\n    return data;\r\n} */\r\n\r\n\r\nexport default {\r\n    store: null,\r\n    name: 'TsneMap',\r\n    components: {\r\n        Scissors,\r\n        RangeSlider,\r\n        Triplets,\r\n        Classifier,\r\n    },\r\n    data: () => ({\r\n        items: [],\r\n        positives: [],\r\n        negatives: [],\r\n        // store: null,\r\n        socket: null,\r\n        connectedToSocket: false,\r\n        loadingNodes: false,\r\n        nodesTotal: 0,\r\n        nodesRecived: 0,\r\n        scale: 0,\r\n        scale2: 0,\r\n        zoomLvl: 0,\r\n        labels: [],\r\n        selectedLabel: null, // save the selected label\r\n        selectedCategory: null,\r\n        showLabels: false, // show the labels in a dropdown\r\n        clickedNode: null,\r\n        labelColor: '#6057ff',\r\n        showKLabels: false,\r\n        scissors: false,\r\n        width: 0,\r\n        height: 0,\r\n        activeNode: {},\r\n        cluster: 5, // default - set on mount from CanvasStore class\r\n        imgWidth: 0, // default - set on mount from CanvasStore class\r\n        activeImgWidth: 0, // default - set on mount from CanvasStore class\r\n        borderWidth: 0, // default - set on mount from CanvasStore class\r\n        range: 0,\r\n        cuttedNodes: [], // selected nodes through scissor\r\n        showOptions: false, // show options menu\r\n        scrollGrowth: 0,\r\n        scrollImgGrowth: 0,\r\n        clusterGrowth: 0,\r\n        translateX: 0,\r\n        translateY: 0,\r\n        // heatmap: {}, // this object should not be controlled by\r\n        showHeatmap: false,\r\n        heatmapRadius: 1,\r\n        heatmapBlur: 5,\r\n        // heatmapMinOpacity: 0.05,\r\n        showNavMap: false,\r\n        navMapAlpha: 0.1,\r\n        showNavHeatmap: false,\r\n        boarderRanked: false,\r\n        sizeRanked: false,\r\n        gradient: [\r\n            [255, 0, 0], // 0\r\n            [255, 50, 0], // 1\r\n            [255, 100, 0], // 2\r\n            [255, 150, 0], // 3\r\n            [255, 150, 0], // 4\r\n            [255, 250, 0], // 5\r\n            [200, 250, 0], // 6\r\n            [150, 250, 0], // 7\r\n            [100, 250, 0], // 8\r\n            [50, 250, 0], // 9\r\n        ],\r\n        toggle: false,\r\n        zoomStage: 0,\r\n    }),\r\n    methods: {\r\n        getNode(i) {\r\n            return this.store.getNode(i);\r\n        },\r\n        sendData() {\r\n            console.log('send data clicked')\r\n            console.log(this.store.nodes)\r\n            const nodes = this.store.getNodes();\r\n            console.log(nodes)\r\n            this.store.resetStore();\r\n            this.socket.emit('updateNodes', { nodes });\r\n            this.reset();\r\n        },\r\n\r\n        changeActiveNode(n) {\r\n            this.activeNode = n;\r\n            return null;\r\n        },\r\n\r\n        groupNodesByIds(ids) {\r\n            this.store.groupNodesByIds(ids)\r\n        },\r\n\r\n        //\r\n        changeCluster(v) {\r\n            // console.log(\"cluster more clicked\")\r\n            this.store.cluster += v; // update canvasState\r\n            this.cluster = this.store.cluster; // update ui\r\n        },\r\n\r\n        triggerDraw() {\r\n            this.store.triggerDraw();\r\n        },\r\n\r\n        drawHeatmap() {\r\n            console.time('drawHeatmap');\r\n            const heatmap = this.heatmap;\r\n\r\n            // data in form of [[x,y,v], [x,y,v], ...]\r\n            const data = Object.values(this.store.getNodes()).map((node) => {\r\n                const x = (node.x * this.store.scale + this.store.translateX) / 4;\r\n                const y = (node.y * this.store.scale + this.store.translateY) / 4;\r\n                return [x, y, 1];\r\n            });\r\n\r\n            // refresh radius before drawing\r\n            heatmap.radius(this.heatmapRadius, this.heatmapBlur);\r\n\r\n            // add data\r\n            heatmap.data(data); // setting data clear the old one\r\n\r\n            // draw heatmap\r\n            heatmap.draw(/* this.heatmapMinOpacity */);\r\n            requestAnimationFrame(() => console.timeEnd('drawHeatmap'));\r\n        },\r\n\r\n        drawNavMap() {\r\n            console.time('drawNavMap');\r\n            const ctx = this.navMap.getContext('2d'),\r\n                w = this.navMap.width,\r\n                h = this.navMap.height;\r\n\r\n            // clean the canvas first\r\n            ctx.clearRect(0, 0, w, h);\r\n\r\n\r\n            ctx.lineWidth = 0.05;\r\n\r\n            for (const i in this.store.nodes) {\r\n                const node = this.store.nodes[i];\r\n                const x = node.x * 5 + w / 2; // 5 = initscale (20) / 4 (25%)\r\n                const y = node.y * 5 + h / 2;\r\n\r\n                const c = this.gradient[node.rank * 10];\r\n                const color = this.boarderRanked ? `rgb(${c[0]},${c[1]},${c[2]})` : 'grey';\r\n                ctx.fillStyle = color;\r\n                ctx.strokeStyle = color;\r\n                ctx.beginPath();\r\n                ctx.arc(x, y, 3, 0, 2 * Math.PI);\r\n                ctx.globalAlpha = this.navMapAlpha;\r\n                ctx.fill();\r\n                ctx.globalAlpha = 1;\r\n                ctx.stroke();\r\n            }\r\n            requestAnimationFrame(() => console.timeEnd('drawNavMap'));\r\n        },\r\n\r\n        drawNavMapRect() {\r\n            console.time('drawNavMapRect');\r\n            const ctx = this.navMapRect.getContext('2d');\r\n            const scale = 20 / this.store.scale;\r\n            const tx = this.store.translateX / 4;\r\n            const ty = this.store.translateY / 4;\r\n\r\n            const w = this.navMapRect.width;\r\n            const h = this.navMapRect.height;\r\n\r\n            // const x = tx + w/2 ;\r\n            const x = w / 2 - tx * scale;\r\n            // const y = ty + h/2;\r\n            const y = h / 2 - ty * scale;\r\n\r\n            ctx.clearRect(0, 0, this.navMapRect.width, this.navMapRect.height);\r\n            ctx.strokeRect(x, y, w * scale, h * scale);\r\n            requestAnimationFrame(() => console.timeEnd('drawNavMapRect'));\r\n        },\r\n\r\n        drawNavHeatmap() {\r\n            console.time('drawNavHeatmap');\r\n            const navHeatmap = this.navHeatmap;\r\n            const w = this.navHeatmapRect.width;\r\n            const h = this.navHeatmapRect.height;\r\n\r\n            // data in form of [[x,y,v], [x,y,v], ...]\r\n            const data = Object.values(this.store.getNodes()).map((node) => {\r\n                const x = node.x * 5 + w / 2;\r\n                const y = node.y * 5 + h / 2;\r\n                return [x, y, 1];\r\n            });\r\n\r\n            // refresh radius before drawing\r\n            navHeatmap.radius(this.heatmapRadius, this.heatmapBlur);\r\n\r\n            // add data\r\n            navHeatmap.data(data); // setting data clear the old one\r\n\r\n            // draw heatmap\r\n            navHeatmap.draw(/* this.heatmapMinOpacity */);\r\n            requestAnimationFrame(() => console.timeEnd('drawNavHeatmap'));\r\n        },\r\n\r\n        drawNavHeatmapRect() {\r\n            console.time('drawNavHeatmapRect');\r\n            const ctx = this.navHeatmapRect.getContext('2d');\r\n            const scale = 20 / this.store.scale;\r\n            const tx = this.store.translateX / 4;\r\n            const ty = this.store.translateY / 4;\r\n\r\n            const w = this.navMapRect.width;\r\n            const h = this.navMapRect.height;\r\n\r\n            // const x = tx + w/2 ;\r\n            const x = w / 2 - tx * scale;\r\n            // const y = ty + h/2;\r\n            const y = h / 2 - ty * scale;\r\n\r\n            ctx.clearRect(0, 0, this.navHeatmapRect.width, this.navHeatmapRect.height);\r\n            ctx.strokeRect(x, y, w * scale, h * scale);\r\n            requestAnimationFrame(() => console.timeEnd('drawNavHeatmapRect'));\r\n        },\r\n\r\n\r\n        toggleShowNavMap() {\r\n            this.showNavMap = !this.showNavMap;\r\n            if (this.showNavMap) requestAnimationFrame(this.drawNavMap);\r\n            if (this.showNavMap) requestAnimationFrame(this.drawNavMapRect);\r\n        },\r\n\r\n        toggleShowNavHeatmap() {\r\n            this.showNavHeatmap = !this.showNavHeatmap;\r\n            if (this.showNavHeatmap) requestAnimationFrame(this.drawNavHeatmap);\r\n            if (this.showNavHeatmap) requestAnimationFrame(this.drawNavHeatmapRect);\r\n        },\r\n\r\n        toggleShowHeatmap() {\r\n            this.showHeatmap = !this.showHeatmap;\r\n            if (this.showHeatmap) requestAnimationFrame(this.drawHeatmap);\r\n        },\r\n\r\n        toggleSizeRanked() {\r\n            this.sizeRanked = !this.sizeRanked;\r\n            this.store.draw2();\r\n        },\r\n\r\n        toggleBoarderRanked() {\r\n            this.boarderRanked = !this.boarderRanked;\r\n            this.store.draw2();\r\n        },\r\n\r\n        toggleToggle() {\r\n            this.toggle = !this.toggle;\r\n            this.store.draw2();\r\n        },\r\n\r\n        changeImgWidth(v) {\r\n            this.store.imgScale += v; // update canvasState\r\n            this.imgWidth = this.store.imgScale; // update ui\r\n        },\r\n\r\n        activeImgWidthMore() {\r\n            this.store.activeImgScale += 1; // update canvasState\r\n            this.activeImgWidth = this.store.activeImgScale; // update ui\r\n        },\r\n        activeImgWidthLess() {\r\n            this.store.activeImgScale -= 1; // update canvasState\r\n            this.activeImgWidth = this.store.activeImgScale; // update ui\r\n        },\r\n\r\n        borderWidthMore() {\r\n            this.store.borderWidth += 1; // update canvasState\r\n            this.borderWidth = this.store.borderWidth; // update ui\r\n        },\r\n        borderWidthLess() {\r\n            this.store.borderWidth -= 1; // update canvasState\r\n            this.borderWidth = this.store.borderWidth; // update ui\r\n        },\r\n        doubleNodes() {\r\n            this.store.doubleNodes();\r\n        },\r\n\r\n        /*\r\n        addNodeToClassify(node) {\r\n            console.log('addNodeToClassify');\r\n            console.log(node);\r\n            if (this.cuttedNodes.indexOf(node) === -1) this.cuttedNodes.push(node);\r\n        },\r\n        */\r\n        toggleShowOptions() {\r\n            this.showOptions = !this.showOptions;\r\n        },\r\n        changeScrollGrowth(v) {\r\n            this.store.scrollGrowth = Math.round((this.store.scrollGrowth + v) * 100) / 100;\r\n            this.scrollGrowth = this.store.scrollGrowth;\r\n        },\r\n        changeScrollImgGrowth(v) {\r\n            this.store.scrollImgGrowth = Math.round((this.store.scrollImgGrowth + v) * 100) / 100;\r\n            this.scrollImgGrowth = this.store.scrollImgGrowth;\r\n        },\r\n        changeClusterGrowth(v) {\r\n            this.store.clusterGrowth = Math.round((this.store.clusterGrowth + v) * 100) / 100;\r\n            // this.clusterGrowth = this.store.clusterGrowth;\r\n        },\r\n        changeZoomStage(v) {\r\n            this.store.zoomStage += v;\r\n            this.zoomStage = this.store.zoomStage;\r\n        },\r\n        changeHeatmapRadius(v) {\r\n            this.heatmapRadius += v;\r\n            this.drawHeatmap();\r\n            this.drawNavHeatmap();\r\n        },\r\n        changeHeatmapBlur(v) {\r\n            this.heatmapBlur += v;\r\n            this.drawHeatmap();\r\n            this.drawNavHeatmap();\r\n        },\r\n        /* changeHeatmapMinOpacity(v) {\r\n            this.heatmapMinOpacity += v;\r\n            this.drawHeatmap()\r\n        }, */\r\n        changeNavMapAlpha(v) {\r\n            this.navMapAlpha += v;\r\n            this.drawNavMap();\r\n        },\r\n        toggleShowKLabels() {\r\n            this.showKLabels = !this.showKLabels;\r\n            this.store.showKLabels = this.showKLabels;\r\n            this.store.valid = false;\r\n            console.log(this.showKLabels);\r\n        },\r\n\r\n        toogleCategory(cat) {\r\n            if (this.selectedCategory === cat) this.selectedCategory = null;\r\n            else this.selectedCategory = cat;\r\n            this.store.selectedCategory = this.selectedCategory;\r\n            this.store.triggerDraw();\r\n        },\r\n\r\n        toogleLabel(label) {\r\n            if (this.selectedLabel === label) this.selectedLabel = null;\r\n            else this.selectedLabel = label;\r\n            this.store.selectedLabel = this.selectedLabel;\r\n            this.store.triggerDraw();\r\n        },\r\n        selectScissors() {\r\n            console.log('selectScissors');\r\n            this.scissors = !this.scissors;\r\n            this.store.scissors = this.scissors;\r\n        },\r\n        reset() {\r\n            this.loadingNodes = true;\r\n            this.nodesRecived = 0;\r\n            this.nodesTotal = 0;\r\n        },\r\n\r\n    },\r\n    watch: {\r\n        cluster(value) {\r\n            // console.log('change cluster');\r\n            this.store.cluster = value;\r\n        },\r\n    },\r\n    computed: {\r\n        selectedNode() {\r\n            return this.store && this.store.selection && this.store.selection.name;\r\n        },\r\n        selectedNodeNeighboursCount() {\r\n            return this.activeNode.links && Object.keys(this.activeNode.links).length;\r\n        },\r\n        imageScale() {\r\n            return this.store && this.store.selection && this.store.selection.imageScale;\r\n        },\r\n    },\r\n    mounted() {\r\n        const socket = io.connect('http://localhost:3000', {\r\n            transports: ['websocket'],\r\n            reconnectionDelay: 100,\r\n            reconnectionDelayMax: 1000,\r\n        });\r\n        const canvas = document.getElementById('canvas');\r\n        const parantWidth = canvas.parentNode.clientWidth; //* 0.8;\r\n        const parantHeight = canvas.parentNode.clientHeight; // 700; // canvas.parentNode.clientHeight //* 0.8\r\n        canvas.width = parantWidth;\r\n        canvas.height = parantHeight;\r\n\r\n        // this.width = parantWidth;\r\n        // this.height = parantHeight;\r\n\r\n        const hitCanvas = document.createElement('canvas');\r\n        hitCanvas.width = parantWidth;\r\n        hitCanvas.height = parantHeight;\r\n\r\n        const heatmapCanvas = document.getElementById('heatmap');\r\n        heatmapCanvas.width = parantWidth / 4;\r\n        heatmapCanvas.height = parantHeight / 4;\r\n        this.heatmap = simpleheat(heatmapCanvas);\r\n\r\n        const navMap = document.getElementById('navMap');\r\n        navMap.width = parantWidth / 4;\r\n        navMap.height = parantHeight / 4;\r\n        this.navMap = navMap;\r\n\r\n        const navMapRect = document.getElementById('navMapRect');\r\n        navMapRect.width = parantWidth / 4;\r\n        navMapRect.height = parantHeight / 4;\r\n        navMapRect.getContext('2d').strokeStyle = '#3882ff';\r\n        navMapRect.getContext('2d').lineWidth = 1.5;\r\n        this.navMapRect = navMapRect;\r\n\r\n        const navHeatmapCanvas = document.getElementById('navHeatmap');\r\n        navHeatmapCanvas.width = parantWidth / 4;\r\n        navHeatmapCanvas.height = parantHeight / 4;\r\n        this.navHeatmap = simpleheat(navHeatmapCanvas);\r\n\r\n        const navHeatmapRect = document.getElementById('navHeatmapRect');\r\n        navHeatmapRect.width = parantWidth / 4;\r\n        navHeatmapRect.height = parantHeight / 4;\r\n        navHeatmapRect.getContext('2d').strokeStyle = '#3882ff';\r\n        navHeatmapRect.getContext('2d').lineWidth = 1.5;\r\n        this.navHeatmapRect = navHeatmapRect;\r\n\r\n\r\n        // const ctx = canvas.getContext('2d');\r\n        const s = new CanvasState(canvas, hitCanvas, socket, this);\r\n\r\n        this.store = s;\r\n\r\n\r\n        // sync values from UI to store\r\n        s.labelColor = this.labelColor;\r\n\r\n        // set init value in UI\r\n        this.cluster = s.cluster;\r\n        this.imgWidth = s.imgScale;\r\n        this.activeImgWidth = s.activeImgScale;\r\n        this.borderWidth = s.borderWidth;\r\n        this.scrollGrowth = s.scrollGrowth;\r\n        this.scrollImgGrowth = s.scrollImgGrowth;\r\n\r\n        console.log('Save store');\r\n        console.log(this.store);\r\n        this.socket = socket;\r\n\r\n        socket.on('connect', () => {\r\n            this.connectedToSocket = true;\r\n            console.log('conected'); // das wirft immer unde\r\n            console.log(`Socket id: ${socket.id}`); // das wirft immer unde\r\n            console.log(socket);\r\n            // if there is allready data then this is just a reconnect\r\n            const nodes = this.store.getNodes();\r\n            console.log('nodes in store while connect (its maybe just a reconnect)');\r\n            console.log(nodes);\r\n            if (!Object.keys(nodes).length && !this.loadingNodes) {\r\n                socket.emit('updateNodes', {nodes: {} });\r\n                this.reset();\r\n            }\r\n            // s.clear() // maybe there is something inside?\r\n        });\r\n        socket.on('disconnect', (reason) => {\r\n            this.connectedToSocket = false;\r\n            console.log(`disconnect: ${reason}`); // das wirft immer unde\r\n            console.log(socket);\r\n            // s.clear() // maybe there is something inside?\r\n        });\r\n\r\n        socket.on('node', (data) => {\r\n            if (data.index % 100 === 0) {\r\n                console.log(`receive node ${data.index}`);\r\n                console.log(data);\r\n            }\r\n            if (!this.nodesRecived) console.time('loadAllNodes');\r\n            this.nodesRecived += 1;\r\n            s.addNode(new Node(data, s.ctx, s.hitCtx));\r\n            s.triggerDraw();\r\n        });\r\n\r\n        socket.on('receiveImage', (data) => {\r\n            // console.log('receive image data');\r\n            // console.log(data);\r\n            const node = s.nodes[data.index];\r\n            // console.log(node);\r\n            node.image.src = `data:image/jpeg;base64,${data.buffer}`;\r\n            node.hasImage = true;\r\n            s.valid = false;\r\n        });\r\n\r\n        socket.on('totalNodesCount', (data) => {\r\n            console.log('totalNodesCount');\r\n            console.log(data);\r\n            this.nodesTotal = data;\r\n        });\r\n\r\n        socket.on('allNodesSend', () => {\r\n            console.log('allNodesSend');\r\n            this.loadingNodes = false;\r\n            console.timeEnd('loadAllNodes');\r\n        });\r\n\r\n        /* socket.on('nodesCount', (nodesCount) => {\r\n            console.log(`nodesCount: ${nodesCount}`);\r\n            this.nodesCount = nodesCount;\r\n        }); */\r\n\r\n        socket.on('updateLabels', (data) => {\r\n            console.log('updateLabels');\r\n            console.log(data);\r\n            this.labels = data;\r\n        });\r\n\r\n        socket.on('updateKdtree', (kdtree) => {\r\n            console.log('updateKdtree');\r\n            console.log(kdtree);\r\n            s.kdtree = kdtree;\r\n            // console.log(s.range(-5 ,-5 ,5 ,5))\r\n        });\r\n        // this.updateCanvas();\r\n\r\n        socket.on('connect_error', () => {\r\n            console.log('connect_error');\r\n        });\r\n\r\n        socket.on('connect_timeout', () => {\r\n            console.log('connect_timeout');\r\n        });\r\n\r\n        socket.on('reconnect', () => {\r\n            console.log('reconnect');\r\n        });\r\n\r\n        socket.on('connecting', () => {\r\n            console.log('connecting');\r\n        });\r\n\r\n        socket.on('reconnecting', () => {\r\n            console.log('reconnecting');\r\n        });\r\n\r\n        socket.on('connect_failed', () => {\r\n            console.log('connect_failed');\r\n        });\r\n\r\n        socket.on('reconnect_failed', () => {\r\n            console.log('reconnect_failed');\r\n        });\r\n\r\n        socket.on('close', () => {\r\n            console.log('close');\r\n        });\r\n    },\r\n    beforeDestroy() {\r\n        // end connection with server socket\r\n        if (this.socket) this.socket.disconnect();\r\n        // clear check-for-drawing interval\r\n        clearInterval(this.store.timerId);\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n    .stack {\r\n        display: flex;\r\n        position: relative;\r\n        height: 700px;\r\n        width: calc(100% - 25rem);\r\n        margin: 0.5rem;\r\n    }\r\n\r\n    .canvas {\r\n        background-color: white;\r\n        box-shadow: 0 7px 14px rgba(50,50,93,.1), 0 3px 6px rgba(0,0,0,.08);\r\n        /*margin: 0.5rem;*/\r\n        outline: none;\r\n    }\r\n\r\n    .maps {\r\n        position: absolute;\r\n        top: 0;\r\n        right: 0;\r\n        display: flex;\r\n        flex-direction: column;\r\n        margin: 0.5rem;\r\n    }\r\n\r\n    .navMap {\r\n        position: relative;\r\n    }\r\n\r\n    #heatmap {\r\n        z-index: 10;\r\n    }\r\n\r\n    #navMap, #navHeatmap {\r\n        position: absolute;\r\n        top: 0;\r\n        right: 0;\r\n        z-index: 10;\r\n    }\r\n\r\n    #navMapRect, #navHeatmapRect {\r\n        position: absolute;\r\n        top: 0;\r\n        right: 0;\r\n        z-index: 20;\r\n        margin: 0.5rem;\r\n        outline: none;\r\n    }\r\n\r\n    .hide {\r\n        display: none;\r\n    }\r\n\r\n    .sub-header {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        /*align-items: center;*/\r\n        height: 2.5rem;\r\n        padding: 5px;\r\n    }\r\n\r\n    .body {\r\n        /*width: 100%;*/\r\n        /*height: 100%;*/\r\n        /*background-color: rgb(255, 90, 75);*/\r\n        /*//color: black;*/\r\n        /*padding: 5px;*/\r\n    }\r\n\r\n    .details {\r\n        width: 25rem;\r\n        height: 100%;\r\n        padding: 0.5rem;\r\n        background-color: white;\r\n    }\r\n\r\n    .row-btn {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n    }\r\n\r\n    .info-box {\r\n        /*padding: 0.5rem;*/\r\n    }\r\n\r\n    .img {\r\n        max-width: 100%;\r\n        max-height: 20rem;\r\n    }\r\n\r\n    .loader {\r\n        border: 3px solid #f3f3f3; /* Light grey */\r\n        border-top: 3px solid #6772e5; /* Blue */\r\n        border-radius: 50%;\r\n        width: 15px;\r\n        height: 15px;\r\n        animation: spin 2s linear infinite;\r\n    }\r\n\r\n    @keyframes spin {\r\n        0% { transform: rotate(0deg); }\r\n        100% { transform: rotate(360deg); }\r\n    }\r\n\r\n    .categoriesArea {\r\n        position: relative;\r\n        z-index: 1;\r\n    }\r\n\r\n    .categories {\r\n        /*position: absolute;*/\r\n        top: 25px;\r\n        width: 100%;\r\n    }\r\n\r\n    .option-title {\r\n        color: #6772e5;\r\n        font-size: 15px;\r\n        font-weight: 600;\r\n        border-bottom: 0.05rem solid grey;\r\n    }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/TsneMap.vue","<template>\r\n    <svg\r\n        @click=\"clickHandler\"\r\n        :class=\"{ active }\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"24\"\r\n        height=\"24\"\r\n        viewBox=\"0 0 24 24\"\r\n        fill=\"none\"\r\n        stroke=\"currentColor\"\r\n        stroke-width=\"2\"\r\n        stroke-linecap=\"round\"\r\n        stroke-linejoin=\"round\"\r\n        class=\"scissors\"\r\n    >\r\n        <circle cx=\"6\" cy=\"6\" r=\"3\"></circle>\r\n        <circle cx=\"6\" cy=\"18\" r=\"3\"></circle>\r\n        <line x1=\"20\" y1=\"4\" x2=\"8.12\" y2=\"15.88\"></line>\r\n        <line x1=\"14.47\" y1=\"14.48\" x2=\"20\" y2=\"20\"></line>\r\n        <line x1=\"8.12\" y1=\"8.12\" x2=\"12\" y2=\"12\"></line>\r\n    </svg>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'Scissors',\r\n    props: ['clickHandler', 'active'],\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n    .scissors:hover{\r\n        border: 1px solid grey;\r\n    }\r\n    .scissors.active{\r\n        border: 1px solid grey;\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/icons/Scissors.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"body\"},[_c('div',{staticClass:\"sub-header\"},[_c('div',{staticClass:\"btn\",attrs:{\"if\":_vm.nodesTotal}},[_vm._v(_vm._s(_vm.nodesRecived + \"/\" + _vm.nodesTotal))]),_vm._v(\" \"),_c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"btn\"},[_vm._v(\" \"+_vm._s(_vm.scale))]),_vm._v(\" \"),_c('div',{staticClass:\"btn\"},[_vm._v(_vm._s(_vm.zoomLvl))]),_vm._v(\" \"),_c('div',{staticClass:\"btn\"},[_vm._v(_vm._s(_vm.translateX))]),_vm._v(\" \"),_c('div',{staticClass:\"btn\"},[_vm._v(_vm._s(_vm.translateY))]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.doubleNodes}},[_vm._v(\"doubleNodes\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"dropdownArea\"}),_vm._v(\" \"),_c('div',{staticClass:\"btn\",class:{ active: _vm.boarderRanked },on:{\"click\":_vm.toggleBoarderRanked}},[_vm._v(\"boarderRanked\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",class:{ active: _vm.sizeRanked },on:{\"click\":_vm.toggleSizeRanked}},[_vm._v(\"sizeRanked\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",class:{ active: _vm.showHeatmap },on:{\"click\":_vm.toggleShowHeatmap}},[_vm._v(\"heatmap\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",class:{ active: _vm.showNavMap },on:{\"click\":_vm.toggleShowNavMap}},[_vm._v(\"NavMap\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",class:{ active: _vm.showNavHeatmap },on:{\"click\":_vm.toggleShowNavHeatmap}},[_vm._v(\"NavHeatmap\")]),_vm._v(\" \"),_c('div',{staticClass:\"categoriesArea\",on:{\"mouseenter\":function($event){_vm.showLabels = true},\"mouseleave\":function($event){_vm.showLabels = false}}},[_c('div',{staticClass:\"btn\"},[_vm._v(\"categories\")]),_vm._v(\" \"),(_vm.showLabels)?_c('div',{staticClass:\"categories\"},_vm._l((_vm.labels),function(category,i){return _c('div',{key:i},[_c('div',{staticClass:\"btn\",class:{ active: _vm.selectedCategory === i },on:{\"click\":function($event){_vm.toogleCategory(i)}}},[_vm._v(\"\\n                                \"+_vm._s(category.name)+\"\\n                            \")]),_vm._v(\" \"),(_vm.selectedCategory === i)?_c('div',_vm._l((category.labels),function(label){return _c('div',{key:label,staticClass:\"btn\",class:{ active: _vm.selectedLabel === label },on:{\"click\":function($event){_vm.toogleLabel(label)}}},[_vm._v(\"\\n                                    \"+_vm._s(label)+\"\\n                                \")])})):_vm._e()])})):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",class:{ active: _vm.showOptions },on:{\"click\":_vm.toggleShowOptions}},[_vm._v(\"Options\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.sendData}},[_vm._v(\"Update Data\")]),_vm._v(\" \"),_c('div',{staticClass:\"tool-box row\"},[(_vm.loadingNodes)?_c('div',{staticClass:\"loader\"}):_vm._e(),_vm._v(\" \"),_c('scissors',{attrs:{\"active\":_vm.scissors,\"clickHandler\":_vm.selectScissors}},[_vm._v(\"a\")])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"stack\"},[_c('canvas',{ref:\"canvas\",staticClass:\"canvas\",attrs:{\"id\":\"canvas\",\"tabindex\":\"0\"}}),_vm._v(\" \"),_c('div',{staticClass:\"maps\"},[_c('canvas',{staticClass:\"canvas\",class:{ hide: !_vm.showHeatmap },attrs:{\"id\":\"heatmap\",\"tabindex\":\"0\"}}),_vm._v(\" \"),_c('div',{staticClass:\"navMap\",class:{ hide: !_vm.showNavMap }},[_c('canvas',{staticClass:\"canvas\",attrs:{\"id\":\"navMap\",\"tabindex\":\"0\"}}),_vm._v(\" \"),_c('canvas',{attrs:{\"id\":\"navMapRect\",\"tabindex\":\"0\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"navMap\",class:{ hide: !_vm.showNavHeatmap }},[_c('canvas',{staticClass:\"canvas\",attrs:{\"id\":\"navHeatmap\",\"tabindex\":\"0\"}}),_vm._v(\" \"),_c('canvas',{attrs:{\"id\":\"navHeatmapRect\",\"tabindex\":\"0\"}})])])]),_vm._v(\" \"),_c('div',{staticClass:\"details\"},[(_vm.showOptions)?_c('div',{staticClass:\"options info-box\"},[_c('div',{},[_c('div',[_vm._v(\"Cluster: \"+_vm._s(Math.round(_vm.cluster)))]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.changeCluster(-100)}}},[_vm._v(\"-100\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.changeCluster(-1000)}}},[_vm._v(\"-1000\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.changeCluster(100)}}},[_vm._v(\"+100\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.changeCluster(1000)}}},[_vm._v(\"+1000\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"row-btn\"},[_c('div',[_vm._v(\"zoomStage: \"+_vm._s(_vm.zoomStage))]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.changeZoomStage(-1)}}},[_vm._v(\"-1\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.changeZoomStage(1)}}},[_vm._v(\"+1\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"row-btn\"},[_c('div',[_vm._v(\"ClusterGrowth: \"+_vm._s(_vm.clusterGrowth))]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.changeClusterGrowth(-0.01)}}},[_vm._v(\"-0.1\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.changeClusterGrowth(0.01)}}},[_vm._v(\"+0.1\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"option-title\"},[_vm._v(\"Heatmap\")]),_vm._v(\" \"),_c('div',{staticClass:\"row-btn\"},[_c('div',[_vm._v(\"Radius: \"+_vm._s(_vm.heatmapRadius))]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.changeHeatmapRadius(-1)}}},[_vm._v(\"+1\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.changeHeatmapRadius(1)}}},[_vm._v(\"+1\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"row-btn\"},[_c('div',[_vm._v(\"Blur: \"+_vm._s(_vm.heatmapBlur))]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.changeHeatmapBlur(-1)}}},[_vm._v(\"-1\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.changeHeatmapBlur(1)}}},[_vm._v(\"+1\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"option-title\"},[_vm._v(\"Navmap\")]),_vm._v(\" \"),_c('div',{staticClass:\"row-btn\"},[_c('div',[_vm._v(\"NavMapAlpha: \"+_vm._s(_vm.navMapAlpha))]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.changeNavMapAlpha(-0.1)}}},[_vm._v(\"-0.1\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.changeNavMapAlpha(0.1)}}},[_vm._v(\"+0.1\")])])])]):_vm._e(),_vm._v(\" \"),_c('router-view',{attrs:{\"nodes\":_vm.cuttedNodes,\"labels\":_vm.labels,\"node\":_vm.clickedNode,\"getNode\":_vm.getNode,\"triggerDraw\":_vm.triggerDraw,\"changeActiveNode\":_vm.changeActiveNode,\"groupNodesByIds\":_vm.groupNodesByIds}}),_vm._v(\" \"),(_vm.activeNode)?_c('div',{staticClass:\"info-box\"},[(_vm.activeNode.hasImage)?_c('img',{staticClass:\"img\",attrs:{\"src\":_vm.activeNode.image.src}}):_vm._e(),_vm._v(\" \"),_c('div',[_vm._v(\"Name: \"+_vm._s(_vm.activeNode.name))]),_vm._v(\" \"),_c('div',[_vm._v(\"Label: \"+_vm._s(_vm.activeNode.label))]),_vm._v(\" \"),_c('div',[_vm._v(\"Labels: \"+_vm._s(_vm.activeNode.labels))]),_vm._v(\" \"),_c('div',[_vm._v(\"Links #: \"+_vm._s(_vm.selectedNodeNeighboursCount))])]):_vm._e()],1)]),_vm._v(\" \"),_c('triplets',{attrs:{\"node\":_vm.activeNode}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-12015541\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/TsneMap.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-12015541\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TsneMap.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TsneMap.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TsneMap.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-12015541\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./TsneMap.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-12015541\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TsneMap.vue\n// module id = null\n// module chunks = ","\r\n<template>\r\n    <div id=\"app\">\r\n        <nav-header />\r\n        <tsne-map />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport NavHeader from './components/NavHeader';\r\nimport TsneMap from './components/TsneMap';\r\n\r\nexport default {\r\n    name: 'App',\r\n    components: { NavHeader, TsneMap },\r\n};\r\n</script>\r\n\r\n<style>\r\n    body {\r\n        margin: 0 !important;\r\n    }\r\n\r\n    input {\r\n        outline: none;\r\n        background-color: transparent !important;\r\n        border: 0 solid;\r\n        border-bottom: 1px solid rgba(0,0,0,0.25);\r\n        font: inherit;\r\n    }\r\n\r\n    #app {\r\n        font-family: Camphor, Open Sans, Segoe UI, sans-serif;\r\n        text-rendering: optimizeLegibility;\r\n        -webkit-font-smoothing: antialiased;\r\n        -moz-osx-font-smoothing: grayscale;\r\n        color: #2c3e50;\r\n        margin: 0;\r\n    }\r\n\r\n    .row {\r\n        display: flex;\r\n        align-items: flex-start;\r\n    }\r\n\r\n    .wrap {\r\n        flex-wrap: wrap;\r\n    }\r\n\r\n    .button {\r\n        margin: 10px;\r\n        height: 40px;\r\n        line-height: 40px;\r\n        padding: 0 14px;\r\n        box-shadow: 0 4px 6px rgba(50, 50, 93, .11), 0 1px 3px rgba(0, 0, 0, .08);\r\n        background: #fff;\r\n        color: #6772e5;\r\n        border-radius: 4px;\r\n        font-size: 15px;\r\n        font-weight: 600;\r\n        text-transform: uppercase;\r\n        letter-spacing: .025em;\r\n        transition: all .15s ease;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .btn {\r\n        align-self: center;\r\n        text-decoration: none;\r\n        /*text-overflow: ;*/\r\n        margin: 0.5rem;\r\n        height: 20px;\r\n        line-height: 20px;\r\n        padding: 0 14px;\r\n        box-shadow: 0 4px 6px rgba(50, 50, 93, .11), 0 1px 3px rgba(0, 0, 0, .08);\r\n        background: #fff;\r\n        color: #6772e5;\r\n        border-radius: 4px;\r\n        font-size: 15px;\r\n        font-weight: 600;\r\n        text-transform: uppercase;\r\n        letter-spacing: .025em;\r\n        transition: all .15s ease;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .btn.active {\r\n        color: #fff;\r\n        background: #6772e5;\r\n    }\r\n\r\n    .btn:hover {\r\n        transform: translateY(-1px);\r\n        box-shadow: 0 7px 14px rgba(50,50,93,.1), 0 3px 6px rgba(0,0,0,.08);\r\n    }\r\n\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('nav-header'),_vm._v(\" \"),_c('tsne-map')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-45c0b9f3\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-45c0b9f3\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-45c0b9f3\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\"Welcome Route\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4e32012b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Welcome.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4e32012b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Welcome.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Welcome.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Welcome.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4e32012b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Welcome.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4e32012b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Welcome.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div>Welcome Route</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'Welcome',\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Welcome.vue","<template>\r\n    <div class=\"area\">\r\n        <div v-if=\"loading\" class=\"loading\"><div class=\"loading-wheel\"></div></div>\r\n        <div class=\"imgArea\" :class=\"{activePositiv: selectPositives}\" @click=\"toggleActive(true)\">\r\n            <div class=\"image\" v-for=\"(node, i) in positives\" :key=\"i\" @mouseover=\"handleMouseOver(node)\">\r\n                <img\r\n                    :src=\"node.icon\"\r\n                    alt=\"\"\r\n                    @click=\"switchPositivs(i)\"\r\n                    @contextmenu.prevent=\"removePositives(i)\"\r\n                >\r\n            </div>\r\n        </div>\r\n        <div class=\"imgArea\" :class=\"{activeNegativ: !selectPositives}\" @click=\"toggleActive(false)\">\r\n            <div class=\"image\" v-for=\"(node, i) in negatives\" :key=\"i\" @mouseover=\"handleMouseOver(node)\">\r\n                <img\r\n                    :src=\"node.icon\"\r\n                    alt=\"\"\r\n                    @click=\"switchNegatives(i)\"\r\n                    @contextmenu.prevent=\"removeNegatives(i)\"\r\n                >\r\n            </div>\r\n        </div>\r\n        <div class=\"imgArea\">\r\n            <div class=\"image\" v-for=\"(n, i) in topScored\" :key=\"i\">\r\n                <img\r\n                    :src=\"n.icon\"\r\n                    alt=\"\"\r\n                >\r\n            </div>\r\n        </div>\r\n        <div class=\"row\">\r\n            <div class=\"btn\" @click=\"trainSvm\">train</div>\r\n            <div class=\"btn\" @click=\"stopSvm\">stop</div>\r\n            <div class=\"btn\" @click=\"clearSvm\">clear</div>\r\n        </div>\r\n        <div class=\"btn\" @click=\"clearSvm\">{{count}}</div>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'Svm',\r\n    props: ['node', 'nodes', 'getNode', 'changeActiveNode', 'groupNodesByIds'],\r\n\r\n    data: () => ({\r\n        positives: [],\r\n        positivesAll: [],\r\n        negatives: [],\r\n        negativesAll: [],\r\n        topScored: [],\r\n        selectPositives: true,\r\n        loading: false,\r\n        count: 0,\r\n    }),\r\n\r\n    watch: {\r\n        node(n) {\r\n            this.addNode(n);\r\n        },\r\n        nodes(nodes) {\r\n            if (nodes) nodes.forEach(n => this.addNode(n));\r\n        },\r\n    },\r\n\r\n    methods: {\r\n        addNode(n) {\r\n            if (n && this.positives.indexOf(n) === -1 && this.negatives.indexOf(n) === -1) {\r\n                if (this.selectPositives) this.positives.push(n);\r\n                else this.negatives.push(n);\r\n            }\r\n        },\r\n        toggleActive(v) {\r\n            this.selectPositives = v;\r\n        },\r\n        switchPositivs(i) {\r\n            this.negatives.push(this.positives[i]);\r\n            this.positives.splice(i, 1);\r\n        },\r\n        switchNegatives(i) {\r\n            this.positives.push(this.negatives[i]);\r\n            this.negatives.splice(i, 1);\r\n        },\r\n        removePositives(i) {\r\n            this.positives.splice(i, 1);\r\n        },\r\n        removeNegatives(i) {\r\n            this.negatives.splice(i, 1);\r\n        },\r\n        async trainSvm() {\r\n            console.log('trainSvm clicked');\r\n            this.loading = true;\r\n\r\n            // save nodes\r\n            this.positives.forEach(n => this.positivesAll.indexOf(n) === -1 && this.positivesAll.push(n));\r\n            this.negatives.forEach(n => this.negativesAll.indexOf(n) === -1 && this.negativesAll.push(n));\r\n\r\n            const body = JSON.stringify({\r\n                p: this.positivesAll.map(node => node.index),\r\n                n: this.negativesAll.map(node => node.index),\r\n                count: this.count,\r\n            });\r\n            const data = await fetch('/api/v1/trainSvm', {\r\n                method: 'POST',\r\n                headers: { 'Content-type': 'application/json' },\r\n                body,\r\n            }).then(res => res.json()).catch((e) => {\r\n                this.loading = false;\r\n                console.error(e);\r\n            });\r\n\r\n            console.log(data);\r\n            this.count += 1;\r\n\r\n            this.positives = []; // reset\r\n            data.p.forEach((i) => {\r\n                const node = this.getNode(i);\r\n                if (node) this.positives.push(node);\r\n                else console.log(new Error('der zurckgegebene Index in trainSvm ist nicht als Knoten vorhanden'));\r\n            });\r\n            this.negatives = []; // reset\r\n            data.n.forEach((i) => {\r\n                const node = this.getNode(i);\r\n                if (node) this.negatives.push(node);\r\n                else console.log(new Error('der zurckgegebene Index in trainSvm ist nicht als Knoten vorhanden'));\r\n            });\r\n            this.topScored = []; // reset\r\n            data.t.forEach((i) => {\r\n                const node = this.getNode(i);\r\n                if (node) this.topScored.push(node);\r\n                else console.log(new Error('der zurckgegebene Index in trainSvm ist nicht als Knoten vorhanden'));\r\n            });\r\n            this.loading = false;\r\n            console.log('done');\r\n        },\r\n        async stopSvm() {\r\n            console.log('stopSvm clicked');\r\n            this.loading = true;\r\n\r\n            const ids = await fetch('/api/v1/stopSvm', {\r\n                method: 'POST',\r\n                headers: { 'Content-type': 'application/json' },\r\n            }).then(res => res.json()).catch(e => console.error(e));\r\n\r\n            this.groupNodesByIds(ids)\r\n\r\n\r\n            this.loading = false;\r\n            this.triggerDraw();\r\n        },\r\n        clearSvm() {\r\n            // reset hole process (same like reload page/component)\r\n            this.count = 0;\r\n            this.positives = []; // reset\r\n            this.positivesAll = []; // reset\r\n            this.negatives = []; // reset\r\n            this.negativesAll = []; // reset\r\n            this.groupNodesByIds([])\r\n        },\r\n        handleMouseOver(n) {\r\n            this.changeActiveNode(n);\r\n        },\r\n    },\r\n\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n    .area {\r\n        position: relative;\r\n\r\n        padding: 0.1rem;\r\n    }\r\n\r\n    .loading {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        background-color: rgba(0, 0, 0, 0.1);\r\n    }\r\n\r\n    .loading-wheel {\r\n        width: 10px;\r\n        height: 10px;\r\n        margin-top: -20px;\r\n        margin-left: -20px;\r\n\r\n        position: absolute;\r\n        top: 50%;\r\n        left: 50%;\r\n\r\n        border-width: 20px;\r\n        border-radius: 50%;\r\n        -webkit-animation: spin 1s linear infinite;\r\n\r\n        border-style: double;\r\n        border-color: #ccc transparent;\r\n    }\r\n    /*http://jsfiddle.net/8k2NV/2/*/\r\n\r\n    @-webkit-keyframes spin {\r\n        0% {\r\n            -webkit-transform: rotate(0);\r\n        }\r\n        100% {\r\n            -webkit-transform: rotate(-360deg);\r\n        }\r\n    }\r\n\r\n    .imgArea {\r\n        min-height: 4rem;\r\n        max-height: 15rem;\r\n        box-shadow: 0 7px 14px rgba(50,50,93,.1), 0 3px 6px rgba(0,0,0,.08);\r\n        display: flex;\r\n        align-items: center;\r\n        flex-flow: wrap;\r\n        flex-direction: row;\r\n        margin-bottom: 1rem;\r\n\r\n        overflow: auto;\r\n    }\r\n\r\n    .activePositiv {\r\n        box-shadow: 0 7px 14px rgba(10, 255, 0, 0.2), 0 3px 6px rgba(0,0,0,.2);\r\n    }\r\n\r\n    .activeNegativ {\r\n        box-shadow: 0 7px 14px rgba(255, 0, 66, 0.2), 0 3px 6px rgba(0,0,0,.2);\r\n    }\r\n\r\n    img {\r\n        height: 100%;\r\n        width: 100%;\r\n        object-fit: scale-down;\r\n    }\r\n\r\n    .image {\r\n        width: 3.5rem;\r\n        height: 3.5rem;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-content: center;\r\n        padding: 0.1rem;\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Svm.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"area\"},[(_vm.loading)?_c('div',{staticClass:\"loading\"},[_c('div',{staticClass:\"loading-wheel\"})]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"imgArea\",class:{activePositiv: _vm.selectPositives},on:{\"click\":function($event){_vm.toggleActive(true)}}},_vm._l((_vm.positives),function(node,i){return _c('div',{key:i,staticClass:\"image\",on:{\"mouseover\":function($event){_vm.handleMouseOver(node)}}},[_c('img',{attrs:{\"src\":node.icon,\"alt\":\"\"},on:{\"click\":function($event){_vm.switchPositivs(i)},\"contextmenu\":function($event){$event.preventDefault();_vm.removePositives(i)}}})])})),_vm._v(\" \"),_c('div',{staticClass:\"imgArea\",class:{activeNegativ: !_vm.selectPositives},on:{\"click\":function($event){_vm.toggleActive(false)}}},_vm._l((_vm.negatives),function(node,i){return _c('div',{key:i,staticClass:\"image\",on:{\"mouseover\":function($event){_vm.handleMouseOver(node)}}},[_c('img',{attrs:{\"src\":node.icon,\"alt\":\"\"},on:{\"click\":function($event){_vm.switchNegatives(i)},\"contextmenu\":function($event){$event.preventDefault();_vm.removeNegatives(i)}}})])})),_vm._v(\" \"),_c('div',{staticClass:\"imgArea\"},_vm._l((_vm.topScored),function(n,i){return _c('div',{key:i,staticClass:\"image\"},[_c('img',{attrs:{\"src\":n.icon,\"alt\":\"\"}})])})),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"btn\",on:{\"click\":_vm.trainSvm}},[_vm._v(\"train\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.stopSvm}},[_vm._v(\"stop\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.clearSvm}},[_vm._v(\"clear\")])]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"click\":_vm.clearSvm}},[_vm._v(_vm._s(_vm.count))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1a3358f4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Svm.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1a3358f4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Svm.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Svm.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Svm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1a3358f4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Svm.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1a3358f4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Svm.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\r\nimport Router from 'vue-router';\r\nimport Welcome from '@/components/Welcome';\r\nimport Svm from '@/components/Svm';\r\nimport Classifier from '../components/Classifier';\r\nimport { TRIPLETS, TSNE, SVM, CLASSIFIER, NEIGHBOURS } from '../util/modes';\r\n\r\nVue.use(Router);\r\n\r\nexport default new Router({\r\n    routes: [\r\n        {\r\n            path: '/',\r\n            name: 'Welcome',\r\n            component: Welcome,\r\n        }, {\r\n            path: `/${CLASSIFIER}`,\r\n            name: CLASSIFIER,\r\n            component: Classifier,\r\n            props: true,\r\n        }, {\r\n            path: `/${SVM}`,\r\n            name: SVM,\r\n            component: Svm,\r\n            props: true,\r\n        }, {\r\n            path: `/${NEIGHBOURS}`,\r\n            name: NEIGHBOURS,\r\n        },\r\n    ],\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue';\r\nimport App from './App';\r\nimport router from './router';\r\nimport './index.css';\r\n\r\nVue.config.productionTip = false;\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n    el: '#app',\r\n    router,\r\n    components: { App },\r\n    template: '<App/>',\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}